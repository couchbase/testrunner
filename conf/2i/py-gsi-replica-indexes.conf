2i.gsi_replica_indexes.GSIReplicaIndexesTests:
    test_create_replica_index_with_num_replica,doc-per-day=1000,dataset=bigdata,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_index_replica=1
    test_create_replica_index_with_num_replica,doc-per-day=1000,dataset=bigdata,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_index_replica=3
    test_create_replica_index_with_num_replica,doc-per-day=1000,dataset=bigdata,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_index_replica=4,expected_err_msg=There are not enough indexer nodes to create index
    test_create_replica_index_with_num_replica,doc-per-day=1000,dataset=bigdata,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_index_replica=0
    test_create_replica_index_with_num_replica,doc-per-day=1000,dataset=bigdata,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_index_replica="abc",expected_err_msg=Parameter num_replica must be a integer value
    test_create_replica_index_with_num_replica,doc-per-day=1000,dataset=bigdata,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_index_replica=null,expected_err_msg=Parameter num_replica must be a integer value
    test_create_replica_index_with_num_replica,doc-per-day=1000,dataset=bigdata,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_index_replica=-1,expected_err_msg=Parameter num_replica must be a positive value
    test_create_replica_index_one_failed_node_num_replica,doc-per-day=1000,dataset=bigdata,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_index_replica=3,node_out=2,expected_err_msg=There are not enough indexer nodes to create index
    test_failover_during_create_index_with_replica,doc-per-day=10000,dataset=bigdata,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_index_replica=3,node_out=2,expected_err_msg=Index does not exist
    test_create_index_while_another_index_building,doc-per-day=10000,dataset=bigdata,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_index_replica=3

    test_create_replica_index_with_node_list,doc-per-day=1000,dataset=bigdata,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,nodes=0:1
    test_create_replica_index_with_node_list,doc-per-day=1000,dataset=bigdata,nodes_init=4,services_init=kv:n1ql-index-index-index,groups=simple,reset_services=True,nodes=0:1,expected_err_msg=does not exist or is not running
    test_create_replica_index_with_node_list,doc-per-day=1000,dataset=bigdata,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,nodes=0:1:invalid,expected_err_msg=does not exist or is not running
    test_create_replica_index_with_node_list,doc-per-day=1000,dataset=bigdata,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,nodes=0:1:0,expected_err_msg=contain duplicate node ID
    test_create_replica_index_with_node_list,doc-per-day=1000,dataset=bigdata,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,nodes=
    test_create_replica_index_one_failed_node_with_node_list,doc-per-day=1000,dataset=bigdata,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,nodes=0:1:2,node_out=2,expected_err_msg=does not exist or is not running

    test_create_replica_index_with_num_replicas_and_node_list,doc-per-day=1000,dataset=bigdata,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_index_replica=2,nodes=0:1:2
    test_create_replica_index_with_num_replicas_and_node_list,doc-per-day=1000,dataset=bigdata,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_index_replica=3,nodes=0:1:2,expected_err_msg=Parameter num_replica should be one less than parameter nodes
    test_create_replica_index_with_num_replicas_and_node_list,doc-per-day=1000,dataset=bigdata,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_index_replica=1,nodes=0:1:2,expected_err_msg=Parameter num_replica should be one less than parameter nodes
    test_create_replica_index_with_num_replicas_and_node_list,doc-per-day=1000,dataset=bigdata,nodes_init=4,services_init=kv:n1ql-index-index-index,groups=simple,reset_services=True,num_index_replica=1,nodes=0:1:2,expected_err_msg=Parameter num_replica should be one less than parameter nodes
    test_create_replica_index_with_num_replicas_and_node_list,doc-per-day=1000,dataset=bigdata,nodes_init=4,services_init=kv:n1ql-index-index-index,groups=simple,reset_services=True,num_index_replica=2,nodes=0:1:invalid,expected_err_msg=does not exist or is not running

    test_create_replica_index_with_server_groups,doc-per-day=1000,dataset=bigdata,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_index_replica=1,server_grouping=0-1:2-3
    test_create_replica_index_with_server_groups,doc-per-day=1000,dataset=bigdata,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_index_replica=2,server_grouping=0-1:2-3

    test_default_num_indexes,doc-per-day=1000,dataset=bigdata,nodes_init=4,services_init=kv:n1ql:index-index-index-index,groups=simple,reset_services=True,num_index_replica=2
    test_default_num_indexes,doc-per-day=1000,dataset=bigdata,nodes_init=4,services_init=kv:n1ql:index-kv-index-index,groups=simple,reset_services=True,num_index_replica=3,expected_err_msg=There are not enough indexer nodes to create index
    test_default_num_indexes,doc-per-day=1000,dataset=bigdata,nodes_init=4,services_init=kv:n1ql:index-index-index-index,groups=simple,reset_services=True,num_index_replica=1,override_with_num=2
    test_default_num_indexes,doc-per-day=1000,dataset=bigdata,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_index_replica=1,override_with_nodes=0:1:2,override_with_num=2

    test_build_index_with_replica,doc-per-day=1000,dataset=bigdata,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_index_replica=1
    test_build_index_with_replica_one_failed_node,doc-per-day=1000,dataset=bigdata,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,nodes=0:1:2,node_out=2,expected_err_msg=Index does not exist
    test_build_index_with_replica_failover_addback,doc-per-day=1000,dataset=bigdata,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,nodes=0:1:2,node_out=2,recovery_type=full
    test_failover_during_build_index,doc-per-day=10000,dataset=bigdata,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,nodes=0:1:2,node_out=2,expected_err_msg=Index does not exist
    test_build_index_with_network_partitioning,doc-per-day=1000,dataset=bigdata,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,nodes=0:1:2:3,node_out=2,expected_err_msg=Some indexer nodes are not reachable.  Cannot process request
    test_build_index_while_another_index_building,doc-per-day=1000,dataset=bigdata,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_index_replica=3

    test_drop_index_with_replica,doc-per-day=1000,dataset=bigdata,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_index_replica=1,defer_build=False
    test_drop_index_with_replica,doc-per-day=1000,dataset=bigdata,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_index_replica=1,defer_build=True
    test_drop_index_with_replica_one_failed_node,doc-per-day=1000,dataset=bigdata,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_index_replica=3,node_out=2
    test_drop_index_with_replica_failover_addback,doc-per-day=1000,dataset=bigdata,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_index_replica=3,node_out=2,recovery_type=full
    test_failover_during_drop_index,doc-per-day=10000,dataset=bigdata,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_index_replica=3,node_out=2
    test_drop_index_with_network_partitioning,doc-per-day=1000,dataset=bigdata,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_index_replica=3,node_out=2,expected_err_msg=Some indexer nodes are not reachable.  Cannot process request
    
    test_replica_movement_with_rebalance_out,doc-per-day=1000,dataset=bigdata,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,nodes=0:1:2,node_out=2
    test_replica_movement_with_rebalance_out,doc-per-day=1000,dataset=bigdata,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,nodes=0:1:2:3,node_out=3,expected_err_msg=some indexes are missing after rebalance
    test_replica_movement_with_rebalance_out,doc-per-day=1000,dataset=bigdata,nodes_init=4,services_init=kv:n1ql-index-index-index,groups=simple,reset_services=True,nodes=1:2:3,node_out=2,expected_err_msg=some indexes are missing after rebalance

    test_replica_movement_with_rebalance_out_and_server_groups,doc-per-day=1000,dataset=bigdata,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,nodes=0:3,node_out=3,server_grouping=0-1:2:3
    test_replica_movement_with_rebalance_out_and_server_groups,doc-per-day=1000,dataset=bigdata,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,nodes=0:2:3,node_out=3,server_grouping=0-1:2:3

    test_replica_movement_with_rebalance_out_and_equivalent_index,doc-per-day=1000,dataset=bigdata,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,nodes=0:1,node_out=1,eq_index_node=2
    test_replica_movement_with_rebalance_out_and_equivalent_index,doc-per-day=1000,dataset=bigdata,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,nodes=0:1:3,node_out=1,eq_index_node=2
    
    test_dropped_replica_add_new_node,doc-per-day=1000,dataset=bigdata,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,nodes=0:1:2:3,node_out=3

    test_replica_movement_with_failover,doc-per-day=1000,dataset=bigdata,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,nodes=0:1:2,node_out=2,graceful=False
    test_replica_movement_with_failover,doc-per-day=1000,dataset=bigdata,nodes_init=4,services_init=kv:index:n1ql-index-kv:index-index,groups=simple,reset_services=True,nodes=0:1:2,node_out=2,graceful=True
    test_replica_movement_with_failover,doc-per-day=1000,dataset=bigdata,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,nodes=0:1:2:3,node_out=2,expected_err_msg=some indexes are missing after rebalance

    test_replica_movement_with_failover_and_addback,doc-per-day=1000,dataset=bigdata,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,nodes=0:1:2,node_out=2,graceful=False,recovery_type=full
    test_replica_movement_with_failover_and_addback,doc-per-day=1000,dataset=bigdata,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,nodes=0:1:2,node_out=2,graceful=False,recovery_type=delta
    test_replica_movement_with_failover_and_addback,doc-per-day=1000,dataset=bigdata,nodes_init=4,services_init=kv:index:n1ql-index-kv:index-index,groups=simple,reset_services=True,nodes=0:1:2,node_out=2,graceful=True,recovery_type=full
    test_replica_movement_with_failover_and_addback,doc-per-day=1000,dataset=bigdata,nodes_init=4,services_init=kv:index:n1ql-index-kv:index-index,groups=simple,reset_services=True,nodes=0:1:2,node_out=2,graceful=True,recovery_type=delta

    #ON HOLD
    #test_dropped_replica_add_new_node_with_server_group,doc-per-day=1000,dataset=bigdata,nodes_init=4,services_init=kv:index:n1ql-index-index-kv,groups=simple,reset_services=True,nodes=0:1:2,node_out=2,server_grouping=0-1:2

    test_rebalance_out_with_replica_with_concurrent_querying,doc-per-day=10000,dataset=bigdata,nodes_init=3,services_init=kv:n1ql-index-index,groups=simple,reset_services=True,num_index_replica=1
    test_failover_with_replica_with_concurrent_querying,doc-per-day=10000,dataset=bigdata,nodes_init=3,services_init=kv:n1ql-index-index,groups=simple,reset_services=True,num_index_replica=1,node_out=2

    test_load_balancing_amongst_replicas,doc-per-day=1000,dataset=bigdata,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_index_replica=3
    test_load_balancing_with_use_index_clause,doc-per-day=1000,dataset=bigdata,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_index_replica=3
    test_load_balancing_with_prepared_statements,doc-per-day=1000,dataset=bigdata,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_index_replica=3

    test_move_index,doc-per-day=1000,dataset=bigdata,nodes_init=3,services_init=kv:index:n1ql-index-index,groups=simple,reset_services=True,nodes=0:1,dest_node=0:2
    test_move_index,doc-per-day=1000,dataset=bigdata,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,nodes=0:1,dest_node=2:3
    test_move_index,doc-per-day=1000,dataset=bigdata,nodes_init=3,services_init=kv:index:n1ql-index-kv,groups=simple,reset_services=True,nodes=0:1,dest_node=0:2,expected_err_msg=Unable to find Index service
    test_move_index,doc-per-day=1000,dataset=bigdata,nodes_init=3,services_init=kv:index:n1ql-index-kv,groups=simple,reset_services=True,nodes=0:1,dest_node=0:1
    test_move_index,doc-per-day=1000,dataset=bigdata,nodes_init=3,services_init=kv:index:n1ql-index-kv,groups=simple,reset_services=True,nodes=0:1,dest_node=0:invalid,expected_err_msg=Unable to find Index service
    test_move_index_failed_node,doc-per-day=1000,dataset=bigdata,nodes_init=3,services_init=kv:index:n1ql-index-index,groups=simple,reset_services=True,nodes=0:1,dest_node=0:2,node_out=2,expected_err_msg=Unable to find Index service
    test_dest_node_fails_during_move_index,doc-per-day=1000,dataset=bigdata,nodes_init=3,services_init=kv:index:n1ql-index-index,groups=simple,reset_services=True,nodes=0:1,dest_node=0:2,node_out=2,expected_err_msg=Error occured Post
    
    test_index_metadata_replicated,doc-per-day=1000,dataset=bigdata,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_index_replica=3

    test_replica_for_different_index_types,doc-per-day=1000,dataset=array,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple_array,reset_services=True,num_index_replica=3
    test_replica_for_different_index_types,doc-per-day=1000,dataset=array,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=distinct_array,reset_services=True,num_index_replica=3
    test_replica_for_different_index_types,doc-per-day=1,dataset=employee,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=composite,reset_services=True,num_index_replica=3
    test_replica_for_primary_index,doc-per-day=1000,dataset=bigdata,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_index_replica=3
    test_replica_for_dynamic_index,doc-per-day=1000,dataset=bigdata,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_index_replica=3

    test_rollback_to_zero_with_replicas,doc-per-day=1000,dataset=bigdata,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_index_replica=3

    test_backup_restore_with_replica,doc-per-day=1000,dataset=bigdata,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_index_replica=3
    test_backup_restore_with_replica_one_node_less,doc-per-day=1000,dataset=bigdata,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_index_replica=3,node_out=3,expected_err_msg=some indexes are missing after rebalance
    test_backup_restore_add_back_dropped_replica,doc-per-day=1000,dataset=bigdata,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_index_replica=3,node_out=3
    test_backup_restore_with_server_groups,doc-per-day=1000,dataset=bigdata,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,num_index_replica=2,server_grouping=0-1:2-3
    test_backup_restore_with_server_groups_one_node_less,doc-per-day=1000,dataset=bigdata,nodes_init=4,services_init=kv:index:n1ql-index-index-index,groups=simple,reset_services=True,nodes=0:2:3,node_out=3,server_grouping=0-1:2:3
