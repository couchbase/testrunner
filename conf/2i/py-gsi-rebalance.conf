2i.gsi_rebalance_2i.SecondaryIndexingRebalanceTests:
    test_gsi_rebalance_out_indexer_node,doc-per-day=1000,dataset=array,nodes_init=4,services_init=kv-index-index-n1ql,groups=simple,reset_services=True
    test_gsi_rebalance_in_indexer_node,doc-per-day=1000,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True
    test_gsi_rebalance_swap_rebalance,doc-per-day=10000,dataset=array,nodes_init=4,services_init=kv-index-index-n1ql,groups=simple,reset_services=True
    test_cbindex_move_after_rebalance_in,doc-per-day=1000,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True
    test_cbindex_move_with_mutations_and_query,doc-per-day=1000,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True
    test_create_index_when_gsi_rebalance_in_progress,doc-per-day=1000,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True
    test_drop_index_when_gsi_rebalance_in_progress,doc-per-day=1000,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True
    test_bucket_delete_and_flush_when_gsi_rebalance_in_progress,doc-per-day=1000,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True
    test_gsi_rebalance_works_when_querying_is_in_progress,doc-per-day=1000,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True
    test_gsi_rebalance_works_when_mutations_are_in_progress,doc-per-day=1000,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True
    test_build_index_when_gsi_rebalance_in_progress,doc-per-day=1000,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True
    test_hard_failover_and_full_recovery_and_gsi_rebalance,doc-per-day=1000,dataset=array,nodes_init=2,services_init=kv:index-kv:n1ql,groups=simple,reset_services=True
    test_hard_failover_and_delta_recovery_and_gsi_rebalance,doc-per-day=1000,dataset=array,nodes_init=2,services_init=kv:index-kv:n1ql,groups=simple,reset_services=True
    test_hard_failover_and_gsi_rebalance,doc-per-day=1000,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True
    test_graceful_failover_and_full_recovery_and_gsi_rebalance,doc-per-day=1000,dataset=array,nodes_init=2,services_init=kv:index-kv:n1ql,groups=simple,reset_services=True
    test_graceful_failover_and_delta_recovery_and_gsi_rebalance,doc-per-day=1000,dataset=array,nodes_init=2,services_init=kv:index-kv:n1ql,groups=simple,reset_services=True
    test_gsi_rebalance_works_with_mutations_query_in_progress,doc-per-day=1000,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True
    test_gsi_rebalance_stop_rebalance_and_start_again,doc-per-day=100,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True
    test_cbindex_move_after_kv_rebalance,doc-per-day=100,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True
    test_cbindex_move_when_gsi_rebalance_is_in_progress,doc-per-day=100,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True
    test_indexer_compaction_when_gsi_rebalance_in_progress,doc-per-day=100,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True
    test_bucket_compaction_when_gsi_rebalance_in_progress,doc-per-day=1000,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True
    test_cbindex_move_when_ddl_is_in_progress,doc-per-day=100,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True
    test_rebalance_deferred_index_then_build_index,doc-per-day=100,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True
    test_drop_index_during_kv_rebalance,doc-per-day=100,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True
    test_cbindex_move_with_not_active_indexes,doc-per-day=100,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True
    test_cbindex_move_negative,doc-per-day=100,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True
    test_gsi_rebalance_with_1_node_out_and_2_nodes_in,doc-per-day=100,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True
    test_gsi_rebalance_with_2_nodes_out_and_1_node_in,doc-per-day=100,dataset=array,nodes_init=4,services_init=kv-index:fts-index:fts-n1ql,groups=simple,reset_services=True
    test_mulitple_equivalent_index_on_same_node_and_rebalance_to_multiple_nodes,doc-per-day=100,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True
    test_mulitple_equivalent_index_on_multiple_nodes_and_rebalance_to_single_node,doc-per-day=100,dataset=array,nodes_init=4,services_init=kv-index-index-n1ql,groups=simple,reset_services=True
    test_cbindex_move_negative_indexnames,doc-per-day=100,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True
    test_kv_failover_when_ddl_in_progress,doc-per-day=100,dataset=array,nodes_init=4,services_init=kv-kv-index-n1ql,groups=simple,reset_services=True
    test_index_failover_when_ddl_in_progress,doc-per-day=100,dataset=array,nodes_init=4,services_init=kv-index-index-n1ql,groups=simple,reset_services=True
    test_build_index_when_kv_rebalance_in_progress,doc-per-day=100,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True
    test_erl_crash_on_indexer_node_during_rebalance,doc-per-day=100,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True
    test_erl_crash_on_kv_node_during_gsi_rebalance,doc-per-day=100,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True
    test_memcache_crash_on_kv_node_during_gsi_rebalance,doc-per-day=100,dataset=array,nodes_init=4,services_init=kv-kv-index-n1ql,groups=simple,reset_services=True
    test_kv_rebalance_when_cbindex_move_in_progress,doc-per-day=10000,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True
    test_kv_failover_when_cbindex_move_in_progress,doc-per-day=100,dataset=array,nodes_init=4,services_init=kv-kv-index-n1ql,groups=simple,reset_services=True
    test_cbindex_move_invalid_data,doc-per-day=100,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True
    test_backup_restore_after_gsi_rebalance,doc-per-day=1000,dataset=array,nodes_init=4,services_init=kv-index-index-n1ql,groups=simple,reset_services=True
    test_backup_restore_while_gsi_rebalance_is_running,doc-per-day=1000,dataset=array,nodes_init=4,services_init=kv-index-index-n1ql,groups=simple,reset_services=True
    test_gsi_rebalance_using_couchbase_cli,doc-per-day=1000,dataset=array,nodes_init=4,services_init=kv-index-index-n1ql,groups=simple,reset_services=True
    # Relook at network partitioning code
    #test_network_partitioning_during_gsi_rebalance,doc-per-day=100,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True
    test_rebalance_of_kv_node_during_index_creation_and_building,doc-per-day=100,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True
    test_backup_restore_when_gsi_rebalance_in_progress,doc-per-day=100,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True
    test_verify_gsi_rebalance_does_not_work_during_create_drop_and_build_index,doc-per-day=100,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True
    test_index_failover_when_cbindex_move_in_progress,doc-per-day=100,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True
    test_long_running_scan_with_gsi_rebalance,doc-per-day=10000,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True,skip_cleanup=True
    #Test rebalance in with different cluster topologies
    test_rebalance_in_with_different_topologies,doc-per-day=1000,dataset=array,nodes_init=4,services_init=kv-kv-index-n1ql,groups=simple,services_in=index,reset_services=True
    test_rebalance_in_with_different_topologies,doc-per-day=1000,dataset=array,nodes_init=4,services_init=kv-kv:index-kv:index-n1ql,groups=simple,services_in=kv,index,reset_services=True
    test_rebalance_in_with_different_topologies,doc-per-day=1000,dataset=array,nodes_init=4,services_init=kv-index:fts-index:fts-n1ql,groups=simple,services_in=index,fts,reset_services=True
    test_rebalance_in_with_different_topologies,doc-per-day=1000,dataset=array,nodes_init=4,services_init=kv-index-index-n1ql,groups=simple,services_in=index,fts,reset_services=True
    test_rebalance_in_with_different_topologies,doc-per-day=1000,dataset=array,nodes_init=3,services_init=kv-index:n1ql-index:n1ql,groups=simple,services_in=index,n1ql,reset_services=True
    test_rebalance_in_with_different_topologies,doc-per-day=1000,dataset=array,nodes_init=4,services_init=kv-index-index-n1ql,groups=simple,services_in=index,n1ql,reset_services=True
    test_rebalance_in_with_different_topologies,doc-per-day=1000,dataset=array,nodes_init=3,services_init=kv-kv:index:n1ql:fts-kv:index:n1ql:fts,groups=simple,services_in=kv,index,n1ql,fts,reset_services=True
    #Test rebalance out with different cluster topologies
    test_rebalance_out_with_different_topologies,doc-per-day=1000,dataset=array,nodes_init=5,services_init=kv-kv-index-index-n1ql,groups=simple,server_out=2,reset_services=True
    test_rebalance_out_with_different_topologies,doc-per-day=1000,dataset=array,nodes_init=5,services_init=kv-kv:index-kv:index-kv:index-n1ql,groups=simple,server_out=3,reset_services=True
    test_rebalance_out_with_different_topologies,doc-per-day=1000,dataset=array,nodes_init=5,services_init=kv-index:fts-index:fts-index:fts-n1ql,groups=simple,server_out=2,reset_services=True
    test_rebalance_out_with_different_topologies,doc-per-day=1000,dataset=array,nodes_init=5,services_init=kv-index-index-index:fts-n1ql,groups=simple,server_out=3,reset_services=True
    test_rebalance_out_with_different_topologies,doc-per-day=1000,dataset=array,nodes_init=4,services_init=kv-index:n1ql-index:n1ql-index:n1ql,groups=simple,server_out=2,reset_services=True
    test_rebalance_out_with_different_topologies,doc-per-day=1000,dataset=array,nodes_init=4,services_init=kv-index-index-index:n1ql,groups=simple,server_out=4,reset_services=True
    test_rebalance_out_with_different_topologies,doc-per-day=1000,dataset=array,nodes_init=3,services_init=kv-kv:index:n1ql:fts-kv:index:n1ql:fts,groups=simple,server_out=2,reset_services=True
    #Test swap rebalance with different cluster topologies
    test_swap_rebalance_with_different_topologies,doc-per-day=1000,dataset=array,nodes_init=5,services_init=kv-kv-index-index-n1ql,groups=simple,server_out=2,services_in=index,reset_services=True
    test_swap_rebalance_with_different_topologies,doc-per-day=1000,dataset=array,nodes_init=5,services_init=kv-kv:index-kv:index-kv:index-n1ql,groups=simple,server_out=3,services_in=kv,index,reset_services=True
    test_swap_rebalance_with_different_topologies,doc-per-day=1000,dataset=array,nodes_init=5,services_init=kv-index:fts-index:fts-index:fts-n1ql,groups=simple,server_out=2,services_in=index,fts,reset_services=True
    test_swap_rebalance_with_different_topologies,doc-per-day=1000,dataset=array,nodes_init=5,services_init=kv-index-index-index:fts-n1ql,groups=simple,server_out=3,services_in=index,fts,reset_services=True
    test_swap_rebalance_with_different_topologies,doc-per-day=1000,dataset=array,nodes_init=4,services_init=kv-index:n1ql-index:n1ql-index:n1ql,groups=simple,server_out=2,services_in=index,n1ql,reset_services=True
    test_swap_rebalance_with_different_topologies,doc-per-day=1000,dataset=array,nodes_init=5,services_init=kv-index-index-index:n1ql-index:n1ql,groups=simple,server_out=4,services_in=index,n1ql,reset_services=True
    test_swap_rebalance_with_different_topologies,doc-per-day=1000,dataset=array,nodes_init=3,services_init=kv-kv:index:n1ql:fts-kv:index:n1ql:fts,groups=simple,server_out=2,services_in=kv,index,n1ql,fts,reset_services=True
    # Run this in the end
    test_when_indexer_is_paused_when_gsi_rebalance_in_progress,doc-per-day=10000,dataset=array,nodes_init=3,services_init=kv-index-n1ql,reset_services=True
    test_reboot_on_kv_node_during_gsi_rebalance,doc-per-day=100,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True
