xdcr.advFilteringXDCR.XDCRAdvFilterTests:
    # MB-64430  
    test_xdcr_with_filter,items=1000,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:META()dotxattrsdotboolxattrdotfooequalsTRUE,failure_restart_interval:20,timeout_percentage:60,load_binary_xattrs=True,loader=pillowfight,GROUP=P0
    test_xdcr_with_filter,items=1000,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:META()dotxattrsdotboolxattrdotfooequalsFALSE,failure_restart_interval:20,timeout_percentage:60,load_binary_xattrs=True,loader=pillowfight,GROUP=P0

    test_xdcr_with_filter,items=1000,random_filters=True,rdirection=bidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:random-int,default@C2=filter_expression:random-int,filter_binary:True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0,ok_if_random_filter_invalid=True,load_xattrs=True,pre_check=True
    test_xdcr_with_filter,items=1000,random_filters=True,rdirection=bidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:random-float,default@C2=filter_expression:random-float,filter_binary:False,failure_restart_interval:20,timeout_percentage:60,GROUP=P0,ok_if_random_filter_invalid=True,load_xattrs=True,pre_check=True
    test_xdcr_with_filter,items=1000,random_filters=True,rdirection=bidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:random-string-short,default@C2=filter_expression:random-int,failure_restart_interval:20,timeout_percentage:60,GROUP=P0,ok_if_random_filter_invalid=True,load_xattrs=True,pre_check=True
    test_xdcr_with_filter,items=1000,random_filters=True,rdirection=bidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:random-string-medium,default@C2=filter_expression:random-float,failure_restart_interval:20,timeout_percentage:60,GROUP=P0,ok_if_random_filter_invalid=True,load_xattrs=True,pre_check=True
    test_xdcr_with_filter,items=1000,random_filters=True,rdirection=bidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:random-string-long,default@C2=filter_expression:random-string-long,failure_restart_interval:20,timeout_percentage:60,GROUP=P0,ok_if_random_filter_invalid=True,load_xattrs=True,pre_check=True
    test_xdcr_with_filter,items=1000,random_filters=True,rdirection=bidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:random-string-vlong,default@C2=filter_expression:random-bool,failure_restart_interval:20,timeout_percentage:60,GROUP=P0,ok_if_random_filter_invalid=True,load_xattrs=True,pre_check=True
    test_xdcr_with_filter,items=1000,random_filters=True,rdirection=bidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:random-bool,default@C2=filter_expression:random-int,failure_restart_interval:20,timeout_percentage:60,GROUP=P0,ok_if_random_filter_invalid=True,load_xattrs=True,pre_check=True
    test_xdcr_with_filter,items=1000,random_filters=True,rdirection=bidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:random-random,default@C2=filter_expression:random-random,failure_restart_interval:20,timeout_percentage:60,GROUP=P0,ok_if_random_filter_invalid=True,load_xattrs=True
    test_xdcr_with_filter,items=1000,random_filters=True,rdirection=bidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:random-random,default@C2=filter_expression:random-random,failure_restart_interval:20,timeout_percentage:60,GROUP=P0,ok_if_random_filter_invalid=True,load_xattrs=True
    test_xdcr_with_filter,items=1000,random_filters=True,rdirection=bidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:random-random,default@C2=filter_expression:random-random,failure_restart_interval:20,timeout_percentage:60,GROUP=P0,ok_if_random_filter_invalid=True,load_xattrs=True
    test_xdcr_with_filter,items=1000,random_filters=True,rdirection=bidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:random-random,default@C2=filter_expression:random-random,failure_restart_interval:20,timeout_percentage:60,GROUP=P0,ok_if_random_filter_invalid=True,load_xattrs=True

    #Connection pre check
    test_xdcr_with_filter,items=1000,random_filters=True,rdirection=bidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:random-random,default@C2=filter_expression:random-random,failure_restart_interval:20,timeout_percentage:60,GROUP=P0,ok_if_random_filter_invalid=True,load_xattrs=True,pre_check=True
    test_xdcr_with_filter,items=1000,random_filters=True,rdirection=bidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:random-random,default@C2=filter_expression:random-random,failure_restart_interval:20,timeout_percentage:60,GROUP=P0,ok_if_random_filter_invalid=True,load_xattrs=True,pre_check=True
    test_xdcr_with_filter,items=1000,random_filters=True,rdirection=bidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:random-random,default@C2=filter_expression:random-random,failure_restart_interval:20,timeout_percentage:60,GROUP=P0,ok_if_random_filter_invalid=True,load_xattrs=True,pre_check=True
    test_xdcr_with_filter,items=1000,random_filters=True,rdirection=bidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:random-random,default@C2=filter_expression:random-random,failure_restart_interval:20,timeout_percentage:60,GROUP=P0,ok_if_random_filter_invalid=True,load_xattrs=True,pre_check=True

    # Filter binary
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:{`int`>equals10000 OR `int`<>1000000},filter_binary:False,failure_restart_interval:20,timeout_percentage:60
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:{`string-long` IS MISSING OR REGEXP_CONTAINS("string-long"comma'^a')},filter_binary:True,failure_restart_interval:20,timeout_percentage:60,GROUP=P0
    test_xdcr_with_filter,items=10000,rdirection=bidirection,ctopology=chain,replication_type=xmem,expires=20,doc_ops=update-delete,doc_ops_clusters=C1:C2,default@C1=filter_expression:REGEXP_CONTAINS(META()dotidcomma'[0-9]$'),timeout_percentage:60,default@C2=filter_expression:REGEXP_CONTAINS(META()dotidcomma'9plusstar'),filter_binary:True,GROUP=P1
    test_xdcr_with_filter,items=10000,rdirection=bidirection,ctopology=chain,replication_type=xmem,expires=20,doc_ops=update-delete,doc_ops_clusters=C1:C2,default@C1=filter_expression:int<>1,timeout_percentage:60,default@C2=filter_expression:int>100,filter_binary:True,GROUP=P1

    # New mobile bucket setting
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:{`int`>equals10000 OR `int`<>1000000},filter_binary:False,failure_restart_interval:20,timeout_percentage:60
    test_xdcr_with_filter,items=100,rdirection=unidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:{`string-long` IS MISSING OR REGEXP_CONTAINS("string-long"comma'^a')},filter_binary:True,failure_restart_in
    test_xdcr_with_filter,items=50000,rebalance_in=C1:C2,rdirection=bidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:int+10<equals10000,default@C2=filter_expression:int+10<equals10000,GROUP=P1
    test_xdcr_with_filter,items=10000,rdirection=bidirection,ctopology=chain,replication_type=xmem,default@C1=filter_expression:REGEXP_CONTAINS(META()dotidcomma'edgyjson'),timeout_percentage:60,default@C2=filter_expression:REGEXP_CONTAINS(META()dotidcomma'2$'),GROUP=P1
    
