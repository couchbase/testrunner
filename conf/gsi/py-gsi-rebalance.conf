gsi.gsi_rebalance_gsi.SecondaryIndexingRebalanceTests:
    test_gsi_rebalance_out_indexer_node,doc-per-day=1000,dataset=array,nodes_init=4,services_init=kv-index-index-n1ql,groups=simple,reset_services=True,GROUP=P0;GREEN
    test_gsi_rebalance_in_indexer_node,doc-per-day=1000,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True,GROUP=P0;GREEN
    test_gsi_rebalance_swap_rebalance,doc-per-day=10000,dataset=array,nodes_init=4,services_init=kv-index-index-n1ql,groups=simple,reset_services=True,GROUP=P0;GREEN
    #test_cbindex_move_after_rebalance_in,doc-per-day=1000,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True,GROUP=P0;GREEN
    #test_cbindex_move_with_mutations_and_query,doc-per-day=1000,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True,GROUP=P1;GREEN
    test_bucket_delete_and_flush_when_gsi_rebalance_in_progress,doc-per-day=1000,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True,GROUP=P1;GREEN
    test_gsi_rebalance_works_when_querying_is_in_progress,doc-per-day=1000,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True,GROUP=P0;GREEN
    test_gsi_rebalance_works_when_mutations_are_in_progress,doc-per-day=1000,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True,GROUP=P0;GREEN
    # Commenting out the test for now as it's unstable
    # test_build_index_when_gsi_rebalance_in_progress,doc-per-day=1000,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True,GROUP=P1;GREEN
    test_hard_failover_and_full_recovery_and_gsi_rebalance,doc-per-day=1000,dataset=array,nodes_init=2,services_init=kv:index-kv:n1ql,groups=simple,reset_services=True,GROUP=P0;GREEN
    test_hard_failover_and_delta_recovery_and_gsi_rebalance,doc-per-day=1000,dataset=array,nodes_init=2,services_init=kv:index-kv:n1ql,groups=simple,reset_services=True,GROUP=P0;GREEN
    test_hard_failover_and_gsi_rebalance,doc-per-day=1000,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True,GROUP=P1;GREEN
    test_graceful_failover_and_full_recovery_and_gsi_rebalance,doc-per-day=1000,dataset=array,nodes_init=2,services_init=kv:index-kv:n1ql,groups=simple,reset_services=True,GROUP=P0;GREEN
    test_graceful_failover_and_delta_recovery_and_gsi_rebalance,doc-per-day=1000,dataset=array,nodes_init=2,services_init=kv:index-kv:n1ql,groups=simple,reset_services=True,GROUP=P0;GREEN
    test_gsi_rebalance_works_with_mutations_query_in_progress,doc-per-day=1000,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True,GROUP=P1;GREEN
    test_gsi_rebalance_stop_rebalance_and_start_again,doc-per-day=100,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True,GROUP=P0;GREEN
    #test_cbindex_move_after_kv_rebalance,doc-per-day=100,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True,GROUP=P0;GREEN
    #test_cbindex_move_when_gsi_rebalance_is_in_progress,doc-per-day=100,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True,GROUP=P1;GREEN
    test_indexer_compaction_when_gsi_rebalance_in_progress,doc-per-day=100,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True,GROUP=P0;GREEN
    test_bucket_compaction_when_gsi_rebalance_in_progress,doc-per-day=1000,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True,GROUP=P0;GREEN
    #test_cbindex_move_when_ddl_is_in_progress,doc-per-day=100,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True,GROUP=P1;GREEN
    test_rebalance_deferred_index_then_build_index,doc-per-day=100,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True,GROUP=P0;GREEN
    test_drop_index_during_kv_rebalance,doc-per-day=100,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True,GROUP=P0;GREEN
    #test_cbindex_move_with_not_active_indexes,doc-per-day=100,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True,GROUP=P0;GREEN
    #test_cbindex_move_negative,doc-per-day=100,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True,GROUP=P1;GREEN
    test_gsi_rebalance_with_1_node_out_and_2_nodes_in,doc-per-day=100,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True,GROUP=P0;GREEN
    test_gsi_rebalance_with_2_nodes_out_and_1_node_in,doc-per-day=100,dataset=array,nodes_init=4,services_init=kv-index:fts-index:fts-n1ql,groups=simple,reset_services=True,GROUP=P0;GREEN
    test_mulitple_equivalent_index_on_same_node_and_rebalance_to_multiple_nodes,doc-per-day=100,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True,GROUP=P0;GREEN
    #test_cbindex_move_negative_indexnames,doc-per-day=100,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True,GROUP=P1;GREEN
    test_kv_failover_when_ddl_in_progress,doc-per-day=100,dataset=array,nodes_init=4,services_init=kv-kv-index-n1ql,groups=simple,reset_services=True,GROUP=P0;GREEN
    test_index_failover_when_ddl_in_progress,doc-per-day=100,dataset=array,nodes_init=4,services_init=kv-index-index-n1ql,groups=simple,reset_services=True,GROUP=P1;GREEN
    #test_kv_rebalance_when_cbindex_move_in_progress,doc-per-day=10000,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True,GROUP=P1;GREEN
    #test_cbindex_move_invalid_data,doc-per-day=100,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True,GROUP=P1;GREEN
    test_backup_restore_after_gsi_rebalance,doc-per-day=1000,dataset=array,nodes_init=4,services_init=kv-index-index-n1ql,groups=simple,reset_services=True,GROUP=P0;GREEN
    test_backup_restore_while_gsi_rebalance_is_running,doc-per-day=1000,dataset=array,nodes_init=4,services_init=kv-index-index-n1ql,groups=simple,reset_services=True,GROUP=P1;GREEN
    test_gsi_rebalance_using_couchbase_cli,doc-per-day=1000,dataset=array,nodes_init=4,services_init=kv-index-index-n1ql,groups=simple,reset_services=True,GROUP=P0;GREEN
    #test_cbindex_move_when_one_move_index_is_already_runnning,doc-per-day=10000,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True,GROUP=P1;GREEN
    test_induce_fts_failure_during_gsi_rebalance,doc-per-day=1000,dataset=array,nodes_init=4,services_init=kv-index-fts-n1ql,groups=simple,reset_services=True,GROUP=P1;GREEN
    #test_index_failover_when_cbindex_move_in_progress,doc-per-day=100,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True,GROUP=P1;GREEN
    test_long_running_scan_with_gsi_rebalance,doc-per-day=10000,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True,GROUP=P0;GREEN
    #test_cbindex_move_on_deferred_index_then_build_index,doc-per-day=10000,dataset=array,nodes_init=3,services_init=kv-index-n1ql,,groups=simple,reset_services=True,GROUP=P0;GREEN
    #test_retry_rebalance,doc-per-day=1000,dataset=array,nodes_init=3,services_init=kv:n1ql-index-index,groups=simple,reset_services=True,sleep_time=1,wait_timeout=15,GROUP=GREEN
    #test_retry_rebalance,doc-per-day=1000,dataset=array,nodes_init=3,services_init=kv:n1ql-index-index,groups=simple,reset_services=True,sleep_time=1,wait_timeout=15,retry_time=180,GROUP=GREEN
    #test_retry_rebalance,doc-per-day=1000,dataset=array,nodes_init=3,services_init=kv:n1ql-index-index,groups=simple,reset_services=True,sleep_time=1,wait_timeout=15,rebalance_out=True,GROUP=GREEN
    #test_retry_rebalance,doc-per-day=1000,dataset=array,nodes_init=3,services_init=kv:n1ql-index-index,groups=simple,reset_services=True,sleep_time=1,wait_timeout=15,rebalance_out=True,retry_time=180,GROUP=GREEN
    #test_retry_rebalance,doc-per-day=1000,dataset=array,nodes_init=3,services_init=kv:n1ql-index-index,groups=simple,reset_services=True,sleep_time=1,wait_timeout=15,rebalance_out=True,build_index=True,GROUP=GREEN
    #Test rebalance in with different cluster topologies
    test_rebalance_in_with_different_topologies,doc-per-day=1000,dataset=array,nodes_init=4,services_init=kv-kv-index-n1ql,groups=simple,services_in=index,reset_services=True,GROUP=P1;YELLOW
    test_rebalance_in_with_different_topologies,doc-per-day=1000,dataset=array,nodes_init=4,services_init=kv-kv:index-kv:index-n1ql,groups=simple,services_in=kv,index,reset_services=True,GROUP=P1;YELLOW
    test_rebalance_in_with_different_topologies,doc-per-day=1000,dataset=array,nodes_init=4,services_init=kv-index:fts-index:fts-n1ql,groups=simple,services_in=index,fts,reset_services=True,GROUP=P1;YELLOW
    test_rebalance_in_with_different_topologies,doc-per-day=1000,dataset=array,nodes_init=4,services_init=kv-index-index-n1ql,groups=simple,services_in=index,fts,reset_services=True,GROUP=P1;YELLOW
    test_rebalance_in_with_different_topologies,doc-per-day=1000,dataset=array,nodes_init=3,services_init=kv-index:n1ql-index:n1ql,groups=simple,services_in=index,n1ql,reset_services=True,GROUP=P1;YELLOW
    test_rebalance_in_with_different_topologies,doc-per-day=1000,dataset=array,nodes_init=4,services_init=kv-index-index-n1ql,groups=simple,services_in=index,n1ql,reset_services=True,GROUP=P0;YELLOW
    test_rebalance_in_with_different_topologies,doc-per-day=1000,dataset=array,nodes_init=3,services_init=kv-kv:index:n1ql:fts-kv:index:n1ql:fts,groups=simple,services_in=kv,index,n1ql,fts,reset_services=True,GROUP=P0;YELLOW
    #Test rebalance out with different cluster topologies
    test_rebalance_out_with_different_topologies,doc-per-day=1000,dataset=array,nodes_init=5,services_init=kv-kv-index-index-n1ql,groups=simple,server_out=2,reset_services=True,GROUP=P1;YELLOW
    test_rebalance_out_with_different_topologies,doc-per-day=1000,dataset=array,nodes_init=5,services_init=kv-kv:index-kv:index-kv:index-n1ql,groups=simple,server_out=3,reset_services=True,GROUP=P1;YELLOW
    test_rebalance_out_with_different_topologies,doc-per-day=1000,dataset=array,nodes_init=5,services_init=kv-index:fts-index:fts-index:fts-n1ql,groups=simple,server_out=2,reset_services=True,GROUP=P1;YELLOW
    test_rebalance_out_with_different_topologies,doc-per-day=1000,dataset=array,nodes_init=5,services_init=kv-index-index-index:fts-n1ql,groups=simple,server_out=3,reset_services=True,GROUP=P1;YELLOW
    test_rebalance_out_with_different_topologies,doc-per-day=1000,dataset=array,nodes_init=4,services_init=kv-index:n1ql-index:n1ql-index:n1ql,groups=simple,server_out=2,reset_services=True,GROUP=P1;YELLOW
    test_rebalance_out_with_different_topologies,doc-per-day=1000,dataset=array,nodes_init=5,services_init=kv-index-index-index:n1ql-index:n1ql,groups=simple,server_out=4,reset_services=True,GROUP=P0;YELLOW
    test_rebalance_out_with_different_topologies,doc-per-day=1000,dataset=array,nodes_init=3,services_init=kv-kv:index:n1ql:fts-kv:index:n1ql:fts,groups=simple,server_out=2,reset_services=True,GROUP=P0;YELLOW
    #Test swap rebalance with different cluster topologies
    test_swap_rebalance_with_different_topologies,doc-per-day=1000,dataset=array,nodes_init=5,services_init=kv-kv-index-index-n1ql,groups=simple,server_out=2,services_in=index,reset_services=True,GROUP=P1;YELLOW
    test_swap_rebalance_with_different_topologies,doc-per-day=1000,dataset=array,nodes_init=5,services_init=kv-kv:index-kv:index-kv:index-n1ql,groups=simple,server_out=3,services_in=kv,index,reset_services=True,GROUP=P1;YELLOW
    test_swap_rebalance_with_different_topologies,doc-per-day=1000,dataset=array,nodes_init=5,services_init=kv-index:fts-index:fts-index:fts-n1ql,groups=simple,server_out=2,services_in=index,fts,reset_services=True,GROUP=P1;YELLOW
    test_swap_rebalance_with_different_topologies,doc-per-day=1000,dataset=array,nodes_init=5,services_init=kv-index-index-index:fts-n1ql,groups=simple,server_out=3,services_in=index,fts,reset_services=True,GROUP=P1;YELLOW
    test_swap_rebalance_with_different_topologies,doc-per-day=1000,dataset=array,nodes_init=4,services_init=kv-index:n1ql-index:n1ql-index:n1ql,groups=simple,server_out=2,services_in=index,n1ql,reset_services=True,GROUP=P1;YELLOW
    test_swap_rebalance_with_different_topologies,doc-per-day=1000,dataset=array,nodes_init=5,services_init=kv-index-index-index:n1ql-index:n1ql,groups=simple,server_out=4,services_in=index,n1ql,reset_services=True,GROUP=P0;YELLOW
    test_swap_rebalance_with_different_topologies,doc-per-day=1000,dataset=array,nodes_init=3,services_init=kv-kv:index:n1ql:fts-kv:index:n1ql:fts,groups=simple,server_out=2,services_in=kv,index,n1ql,fts,reset_services=True,GROUP=P0;YELLOW
    # Run this in the end
    test_partition_n1ql_during_gsi_rebalance,doc-per-day=10000,dataset=array,nodes_init=3,services_init=kv-index-n1ql,reset_services=True,groups=simple,GROUP=P1;RED
    test_create_index_when_gsi_rebalance_in_progress,doc-per-day=10000,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True,GROUP=P1;RED
    test_drop_index_when_gsi_rebalance_in_progress,doc-per-day=1000,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True,GROUP=P0;RED
    test_mulitple_equivalent_index_on_multiple_nodes_and_rebalance_to_single_node,doc-per-day=100,dataset=array,nodes_init=4,services_init=kv-index-index-n1ql,groups=simple,reset_services=True,GROUP=P0;RED
    test_build_index_when_kv_rebalance_in_progress,doc-per-day=100,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True,GROUP=P1;RED
    #test_kv_failover_when_cbindex_move_in_progress,doc-per-day=100,dataset=array,nodes_init=4,services_init=kv-kv-index-n1ql,groups=simple,reset_services=True,GROUP=P1;RED
    test_verify_gsi_rebalance_does_not_work_during_create_drop_and_build_index,doc-per-day=10000,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True,GROUP=P0;RED
    test_kill_indexer_during_gsi_rebalance,doc-per-day=10000,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True,GROUP=P0;RED
    test_autofailover_with_gsi_rebalance,doc-per-day=10000,dataset=array,nodes_init=6,services_init=kv-kv-kv-index-index-n1ql,groups=simple,reset_services=True,GROUP=P1;RED
    test_kill_n1ql_during_gsi_rebalance,doc-per-day=10000,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True,GROUP=P1;RED
    test_rebalance_of_kv_node_during_index_creation_and_building,doc-per-day=100000,dataset=array,nodes_init=4,services_init=kv-index-index-n1ql,groups=simple,reset_services=True,GROUP=P0,RED,PLASMA_ONLY
    test_erl_crash_on_indexer_node_during_rebalance,doc-per-day=100,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True,GROUP=P1;RED
    test_erl_crash_on_kv_node_during_gsi_rebalance,doc-per-day=100,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True,GROUP=P1;RED
    test_memcache_crash_on_kv_node_during_gsi_rebalance,doc-per-day=100,dataset=array,nodes_init=4,services_init=kv-kv-index-n1ql,groups=simple,reset_services=True,GROUP=P1;RED
    test_reboot_on_kv_node_during_gsi_rebalance,doc-per-day=30000,dataset=array,nodes_init=4,services_init=kv-kv-index-n1ql,groups=simple,reset_services=True,skip_cleanup=True,GROUP=P1;RED
    test_reboot_on_indexer_node_during_gsi_rebalance,doc-per-day=10000,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True,skip_cleanup=True,GROUP=P1;RED
    test_gsi_rebalance_can_be_resumed_after_failed_gsi_rebalance,doc-per-day=1000,dataset=array,nodes_init=4,services_init=kv-index-index-n1ql,groups=simple,reset_services=True,GROUP=P1;RED
    test_gsi_rebalance_when_indexer_is_in_paused_state,doc-per-day=10000,dataset=array,nodes_init=4,services_init=kv-kv-index-n1ql,reset_services=True,GROUP=P1,RED,MOI_ONLY
    test_gsi_rebalance_with_different_scan_consistency,doc-per-day=100,dataset=array,nodes_init=5,services_init=kv-index-index-index-n1ql,groups=simple,reset_services=True,GROUP=P1;RED
    test_gsi_rebalance_with_multiple_nodes_in_swap_rebalance,doc-per-day=100,dataset=array,nodes_init=5,services_init=kv-index-index-index-n1ql,groups=simple,reset_services=True,GROUP=P1;RED
    test_gsi_rebalance_out_last_indexer_node_and_add_one_indexer_node,doc-per-day=100,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True,GROUP=P1;RED
    test_gsi_rebalance_in_indexer_node_with_node_eject_only_as_false,doc-per-day=1000,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True,GROUP=P1;RED
    test_gsi_rebalance_with_disable_index_move_as_true,doc-per-day=10000,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True,GROUP=P1;RED
    test_nest_and_intersect_queries_after_gsi_rebalance,doc-per-day=10000,dataset=array,nodes_init=4,services_init=kv-index-index-n1ql,groups=simple,reset_services=True,GROUP=P1;RED
    # commenting the below tc because of a bug. Uncomment after MB-XXXX is fixed. It fails in such a way that the cluster is unrecoverable
    #test_gsi_rebalance_out_indexer_node_when_other_indexer_is_in_paused_state,doc-per-day=10000,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True,GROUP=P1;RED
    #test_network_partitioning_between_kv_indexer_during_gsi_rebalance,doc-per-day=10000,dataset=array,nodes_init=4,services_init=kv-kv-index-n1ql,groups=simple,reset_services=True,GROUP=P1;RED
    test_network_partitioning_during_gsi_rebalance,doc-per-day=100,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True,GROUP=P1;RED
    #test_cbindex_move_from_any_node_apart_from_src_dest,doc-per-day=100,dataset=array,nodes_init=3,services_init=kv-index-n1ql,groups=simple,reset_services=True,GROUP=P1;RED
    #test_cbindex_move_with_reboot_of_destination_node,doc-per-day=10000,dataset=array,nodes_init=3,services_init=kv-index-n1ql,reset_services=True,groups=simple,GROUP=P1;RED
    #test_cbindex_move_with_reboot_of_source_node,doc-per-day=10000,dataset=array,nodes_init=3,services_init=kv-index-n1ql,reset_services=True,groups=simple,GROUP=P1;RED
    #test_cbindex_move_with_index_server_being_killed,doc-per-day=10000,dataset=array,nodes_init=3,services_init=kv-index-n1ql,reset_services=True,groups=simple,GROUP=P1;RED
    #test_cbindex_move_after_network_partitioning,doc-per-day=100,dataset=array,nodes_init=3,services_init=kv-index-n1ql,reset_services=True,groups=simple,GROUP=P1;RED
