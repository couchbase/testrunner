gsi.backup_and_restore.BackupRestoreTests:
    ################ rest apis ################
    #test_steady_state_basic_backup_restore,default_bucket=False,num_buckets=2,bucket_size=200,num_scopes=2,num_collections=2,defer_build=False,reset_services=True,GROUP=P0,use_cbbackupmgr=False
    #test_steady_state_basic_backup_restore,default_bucket=False,num_buckets=2,bucket_size=200,num_scopes=2,num_collections=2,defer_build=True,reset_services=True,GROUP=P0,use_cbbackupmgr=False
    #test_steady_state_backup_restore_with_include_scopes,default_bucket=False,num_buckets=2,bucket_size=200,num_scopes=2,num_collections=2,defer_build=False,reset_services=True,GROUP=P0,use_cbbackupmgr=False
    #test_steady_state_backup_restore_with_include_collections,default_bucket=False,num_buckets=2,bucket_size=200,num_scopes=2,num_collections=2,defer_build=False,reset_services=True,GROUP=P0,use_cbbackupmgr=False
    #test_steady_state_backup_restore_with_exclude_scopes,default_bucket=False,num_buckets=2,bucket_size=200,num_scopes=2,num_collections=2,defer_build=False,reset_services=True,GROUP=P0,use_cbbackupmgr=False
    #test_steady_state_backup_restore_with_exclude_collections,default_bucket=False,num_buckets=2,bucket_size=200,num_scopes=2,num_collections=2,defer_build=False,reset_services=True,GROUP=P0,use_cbbackupmgr=False
    #test_steady_state_backup_restore_with_bucket_remap,default_bucket=False,num_buckets=2,bucket_size=200,num_scopes=2,num_collections=2,defer_build=False,reset_services=True,GROUP=P0,use_cbbackupmgr=False
    #test_steady_state_backup_restore_with_scope_remap,default_bucket=False,num_buckets=2,bucket_size=200,num_scopes=2,num_collections=2,defer_build=False,reset_services=True,GROUP=P0,use_cbbackupmgr=False
    #test_steady_state_backup_restore_with_scope_remap,default_bucket=False,num_buckets=2,bucket_size=200,num_scopes=2,num_collections=2,defer_build=False,reset_services=True,GROUP=P0,use_cbbackupmgr=False,bucket_remap=True
    #test_steady_state_backup_restore_with_collection_remap,default_bucket=False,num_buckets=2,bucket_size=200,num_scopes=2,num_collections=2,defer_build=False,reset_services=True,GROUP=P0,use_cbbackupmgr=False
    #test_steady_state_backup_restore_with_collection_remap,default_bucket=False,num_buckets=2,bucket_size=200,num_scopes=2,num_collections=2,defer_build=False,reset_services=True,GROUP=P0,use_cbbackupmgr=False,bucket_remap=True
    #test_steady_state_backup_restore_with_scopes_and_collections_remap,default_bucket=False,num_buckets=2,bucket_size=200,num_scopes=2,num_collections=2,defer_build=False,reset_services=True,GROUP=P0,use_cbbackupmgr=False
    #test_steady_state_backup_restore_with_scopes_and_collections_remap,default_bucket=False,num_buckets=2,bucket_size=200,num_scopes=2,num_collections=2,defer_build=False,reset_services=True,GROUP=P0,use_cbbackupmgr=False,bucket_remap=True
    #test_backup_restore_with_replicas,default_bucket=False,num_buckets=2,bucket_size=200,num_scopes=2,num_collections=2,defer_build=False,reset_services=True,GROUP=P0,use_cbbackupmgr=False,nodes_init=2,services_init=kv:index:n1ql-index:n1ql
    #test_backup_restore_with_replicas,default_bucket=False,num_buckets=2,bucket_size=200,num_scopes=2,num_collections=2,defer_build=False,reset_services=True,GROUP=P0,use_cbbackupmgr=False,nodes_init=2,services_init=kv:index:n1ql-index:n1ql,bucket_remap=True
    #test_backup_restore_with_partition_index,default_bucket=False,num_buckets=2,bucket_size=200,num_scopes=2,num_collections=2,defer_build=False,reset_services=True,GROUP=P0,use_cbbackupmgr=False,nodes_init=2,services_init=kv:index:n1ql-index:n1ql
    #test_backup_restore_with_partition_index,default_bucket=False,num_buckets=2,bucket_size=200,num_scopes=2,num_collections=2,defer_build=False,reset_services=True,GROUP=P0,use_cbbackupmgr=False,nodes_init=2,services_init=kv:index:n1ql-index:n1ql,bucket_remap=True
    #test_backup_restore_with_rebalance_and_replica_index,default_bucket=False,num_buckets=1,bucket_size=200,num_scopes=1,num_collections=1,defer_build=False,reset_services=True,GROUP=P0,use_cbbackupmgr=False,nodes_init=2,services_init=kv:index:n1ql-index:n1ql
    #test_backup_restore_with_rebalance_and_replica_index,default_bucket=False,num_buckets=1,bucket_size=200,num_scopes=1,num_collections=1,defer_build=False,reset_services=True,GROUP=P0,use_cbbackupmgr=False,nodes_init=4,services_init=kv:index:n1ql-index:n1ql-index:n1ql-index:n1ql,num_index_replica=1
    #test_backup_restore_with_rebalance_and_partition_index,default_bucket=False,num_buckets=2,bucket_size=200,num_scopes=2,num_collections=2,defer_build=False,reset_services=True,GROUP=P0,use_cbbackupmgr=False,nodes_init=2,services_init=kv:index:n1ql-index:n1ql
    #test_backup_restore_with_alter_index,default_bucket=False,num_buckets=1,bucket_size=200,num_scopes=1,num_collections=1,defer_build=False,reset_services=True,GROUP=P0,use_cbbackupmgr=False,nodes_init=2,services_init=kv:index:n1ql-index:n1ql

    #Commenting for now until scheduled index tests starts passing
    #test_backup_restore_with_scheduled_indexes,default_bucket=False,num_buckets=1,bucket_size=200,num_scopes=0,num_collections=1,defer_build=False,reset_services=True,GROUP=P0,use_cbbackupmgr=False
    #test_backup_restore_with_scheduled_replica_indexes,default_bucket=False,num_buckets=1,bucket_size=200,num_scopes=0,num_collections=1,defer_build=False,reset_services=True,GROUP=P0,use_cbbackupmgr=False,nodes_init=2,services_init=kv:index:n1ql-index:n1ql
    #test_backup_restore_with_scheduled_partition_indexes,default_bucket=False,num_buckets=1,bucket_size=200,num_scopes=0,num_collections=0,defer_build=False,reset_services=True,GROUP=P0,use_cbbackupmgr=False,nodes_init=2,services_init=kv:index:n1ql-index:n1ql
    #test_backup_restore_with_duplicate_scheduled_indexes,default_bucket=False,num_buckets=1,bucket_size=200,num_scopes=0,num_collections=0,defer_build=False,reset_services=True,GROUP=P1,use_cbbackupmgr=False
    #test_backup_restore_with_equivalent_scheduled_indexes,default_bucket=False,num_buckets=1,bucket_size=200,num_scopes=0,num_collections=0,defer_build=False,reset_services=True,GROUP=P1,use_cbbackupmgr=False
    #test_backup_restore_with_scheduled_indexes_and_include,default_bucket=False,num_buckets=1,bucket_size=200,num_scopes=0,num_collections=0,defer_build=False,reset_services=True,GROUP=P1,use_cbbackupmgr=False
    #test_backup_restore_with_scheduled_indexes_and_exclude,default_bucket=False,num_buckets=1,bucket_size=200,num_scopes=0,num_collections=0,defer_build=False,reset_services=True,GROUP=P1,use_cbbackupmgr=False
    #test_backup_restore_with_scheduled_indexes_and_remap,default_bucket=False,num_buckets=1,bucket_size=200,num_scopes=0,num_collections=0,defer_build=False,reset_services=True,GROUP=P1,use_cbbackupmgr=False
    #test_backup_restore_with_scheduled_replica_indexes_less_nodes,default_bucket=False,num_buckets=1,bucket_size=200,num_scopes=0,num_collections=1,defer_build=False,reset_services=True,GROUP=P0,use_cbbackupmgr=False,nodes_init=2,services_init=kv:index:n1ql-index:n1ql
    ###### P1 ######
    #MB-43169 MB-42990
    #test_backup_restore_with_duplicate_partition_index_name,default_bucket=False,num_buckets=2,bucket_size=200,num_scopes=2,num_collections=2,defer_build=False,reset_services=True,GROUP=P1,use_cbbackupmgr=False
    #test_backup_restore_with_duplicate_index_name_different_fields,default_bucket=False,num_buckets=1,bucket_size=200,num_scopes=1,num_collections=1,defer_build=False,reset_services=True,GROUP=P1,use_cbbackupmgr=False

    #test_backup_restore_with_duplicate_replica_index_name,default_bucket=False,num_buckets=2,bucket_size=200,num_scopes=2,num_collections=2,defer_build=False,reset_services=True,GROUP=P1,use_cbbackupmgr=False,nodes_init=2,services_init=kv:index:n1ql-index:n1ql
    #MB-42376
    #test_backup_restore_while_rebalancing,default_bucket=False,num_buckets=1,bucket_size=200,num_scopes=1,num_collections=1,defer_build=False,reset_services=True,GROUP=P1,use_cbbackupmgr=False,nodes_init=2,services_init=kv:index:n1ql-index:n1ql,indexes_per_collection=30
    #test_backup_restore_with_error_index_state,default_bucket=False,num_buckets=1,bucket_size=200,num_scopes=1,num_collections=1,defer_build=False,reset_services=True,GROUP=P1,use_cbbackupmgr=False,nodes_init=2,services_init=kv:index:n1ql-index:n1ql,indexes_per_collection=30
    ################ cbbackupmgr tool ################
    test_steady_state_basic_backup_restore,default_bucket=False,num_buckets=2,bucket_size=200,num_scopes=2,num_collections=2,defer_build=False,reset_services=True,GROUP=P0,use_cbbackupmgr=True
    test_steady_state_backup_restore_with_include_scopes,default_bucket=False,num_buckets=2,bucket_size=200,num_scopes=2,num_collections=2,defer_build=False,reset_services=True,GROUP=P0,use_cbbackupmgr=True
    test_steady_state_backup_restore_with_include_collections,default_bucket=False,num_buckets=2,bucket_size=200,num_scopes=2,num_collections=2,defer_build=False,reset_services=True,GROUP=P0,use_cbbackupmgr=True
    test_steady_state_backup_restore_with_exclude_scopes,default_bucket=False,num_buckets=2,bucket_size=200,num_scopes=2,num_collections=2,defer_build=False,reset_services=True,GROUP=P0,use_cbbackupmgr=True
    test_steady_state_backup_restore_with_exclude_collections,default_bucket=False,num_buckets=2,bucket_size=200,num_scopes=2,num_collections=2,defer_build=False,reset_services=True,GROUP=P0,use_cbbackupmgr=True
    test_steady_state_backup_restore_with_bucket_remap,default_bucket=False,num_buckets=2,bucket_size=200,num_scopes=2,num_collections=2,defer_build=False,reset_services=True,GROUP=P0,use_cbbackupmgr=True
    test_backup_restore_with_replicas,default_bucket=False,num_buckets=2,bucket_size=200,num_scopes=2,num_collections=2,defer_build=False,reset_services=True,GROUP=P0,use_cbbackupmgr=True,nodes_init=2,services_init=kv:index:n1ql-index:n1ql
    test_backup_restore_with_partition_index,default_bucket=False,num_buckets=2,bucket_size=200,num_scopes=2,num_collections=2,defer_build=False,reset_services=True,GROUP=P0,use_cbbackupmgr=True,nodes_init=2,services_init=kv:index:n1ql-index:n1ql
    test_backup_restore_with_rebalance_and_replica_index,default_bucket=False,num_buckets=1,bucket_size=200,num_scopes=1,num_collections=1,defer_build=False,reset_services=True,GROUP=P0,use_cbbackupmgr=True,nodes_init=2,services_init=kv:index:n1ql-index:n1ql
    test_backup_restore_with_rebalance_and_replica_index,default_bucket=False,num_buckets=1,bucket_size=200,num_scopes=1,num_collections=1,defer_build=False,reset_services=True,GROUP=P0,use_cbbackupmgr=True,nodes_init=4,services_init=kv:index:n1ql-index:n1ql-index:n1ql-index:n1ql,num_index_replica=1
    test_backup_restore_with_rebalance_and_partition_index,default_bucket=False,num_buckets=2,bucket_size=200,num_scopes=2,num_collections=2,defer_build=False,reset_services=True,GROUP=P0,use_cbbackupmgr=True,nodes_init=2,services_init=kv:index:n1ql-index:n1ql
    test_backup_restore_with_alter_index,default_bucket=False,num_buckets=1,bucket_size=200,num_scopes=1,num_collections=1,defer_build=False,reset_services=True,GROUP=P0,use_cbbackupmgr=True,nodes_init=2,services_init=kv:index:n1ql-index:n1ql

    #Commenting for now until scheduled index tests starts passing
    #test_backup_restore_with_scheduled_indexes,default_bucket=False,num_buckets=1,bucket_size=200,num_scopes=0,num_collections=1,defer_build=False,reset_services=True,GROUP=P0,use_cbbackupmgr=True
    #test_backup_restore_with_scheduled_replica_indexes,default_bucket=False,num_buckets=1,bucket_size=200,num_scopes=0,num_collections=1,defer_build=False,reset_services=True,GROUP=P0,use_cbbackupmgr=True,nodes_init=2,services_init=kv:index:n1ql-index:n1ql
    #test_backup_restore_with_scheduled_partition_indexes,default_bucket=False,num_buckets=1,bucket_size=200,num_scopes=0,num_collections=0,defer_build=False,reset_services=True,GROUP=P0,use_cbbackupmgr=True,nodes_init=2,services_init=kv:index:n1ql-index:n1ql
    #test_backup_restore_with_scheduled_replica_indexes_less_nodes,default_bucket=False,num_buckets=1,bucket_size=200,num_scopes=0,num_collections=1,defer_build=False,reset_services=True,GROUP=P0,use_cbbackupmgr=True,nodes_init=2,services_init=kv:index:n1ql-index:n1ql
    #test_backup_restore_with_duplicate_scheduled_indexes,default_bucket=False,num_buckets=1,bucket_size=200,num_scopes=0,num_collections=0,defer_build=False,reset_services=True,GROUP=P1,use_cbbackupmgr=True
    #test_backup_restore_with_equivalent_scheduled_indexes,default_bucket=False,num_buckets=1,bucket_size=200,num_scopes=0,num_collections=0,defer_build=False,reset_services=True,GROUP=P1,use_cbbackupmgr=True
    #test_backup_restore_with_scheduled_indexes_and_include,default_bucket=False,num_buckets=1,bucket_size=200,num_scopes=0,num_collections=0,defer_build=False,reset_services=True,GROUP=P1,use_cbbackupmgr=True
    #test_backup_restore_with_scheduled_indexes_and_exclude,default_bucket=False,num_buckets=1,bucket_size=200,num_scopes=0,num_collections=0,defer_build=False,reset_services=True,GROUP=P1,use_cbbackupmgr=True

    ###### P1 ######
    #MB-43169 MB-42990 -- commenting until the bugs are fixed
    #test_backup_restore_with_duplicate_index_name_different_fields,default_bucket=False,num_buckets=1,bucket_size=200,num_scopes=1,num_collections=1,defer_build=False,reset_services=True,GROUP=P1,use_cbbackupmgr=True
    #test_backup_restore_with_duplicate_partition_index_name,default_bucket=False,num_buckets=2,bucket_size=200,num_scopes=2,num_collections=2,defer_build=False,reset_services=True,GROUP=P1,use_cbbackupmgr=True

    test_backup_restore_with_duplicate_replica_index_name,default_bucket=False,num_buckets=2,bucket_size=200,num_scopes=2,num_collections=2,defer_build=False,reset_services=True,GROUP=P1,use_cbbackupmgr=True,nodes_init=2,services_init=kv:index:n1ql-index:n1ql
    #MB-42376 -- commenting until the bug is fixed
    #test_backup_restore_while_rebalancing,default_bucket=False,num_buckets=1,bucket_size=200,num_scopes=1,num_collections=1,defer_build=False,reset_services=True,GROUP=P1,use_cbbackupmgr=True,nodes_init=2,services_init=kv:index:n1ql-index:n1ql,indexes_per_collection=30

    #test_backup_restore_with_error_index_state,default_bucket=False,num_buckets=1,bucket_size=200,num_scopes=1,num_collections=1,defer_build=False,reset_services=True,GROUP=P1,use_cbbackupmgr=True,nodes_init=2,services_init=kv:index:n1ql-index:n1ql,indexes_per_collection=30
    ###### Negative tests ######
    #test_backup_restore_with_both_include_exclude,default_bucket=False,num_buckets=1,bucket_size=200,num_scopes=1,num_collections=1,defer_build=False,reset_services=True,GROUP=P0,use_cbbackupmgr=False
    test_backup_restore_with_both_include_exclude,default_bucket=False,num_buckets=1,bucket_size=200,num_scopes=1,num_collections=1,defer_build=False,reset_services=True,GROUP=P0,use_cbbackupmgr=True

    # Commenting it as the REST call is not from backup REST but internal call made by backup manager.
    # test_backup_restore_with_overlapping_paths,default_bucket=False,num_buckets=1,bucket_size=200,num_scopes=1,num_collections=1,defer_build=False,reset_services=True,GROUP=P0,use_cbbackupmgr=False

    test_backup_restore_with_overlapping_paths,default_bucket=False,num_buckets=1,bucket_size=200,num_scopes=1,num_collections=1,defer_build=False,reset_services=True,GROUP=P0,use_cbbackupmgr=True
    #test_backup_with_invalid_keyspaces,default_bucket=False,num_buckets=1,bucket_size=200,num_scopes=1,num_collections=1,defer_build=False,reset_services=True,GROUP=P0,use_cbbackupmgr=False
    test_backup_with_invalid_keyspaces,default_bucket=False,num_buckets=1,bucket_size=200,num_scopes=1,num_collections=1,defer_build=False,reset_services=True,GROUP=P0,use_cbbackupmgr=True
    #test_restore_with_invalid_keyspaces,default_bucket=False,num_buckets=1,bucket_size=200,num_scopes=1,num_collections=1,defer_build=False,reset_services=True,GROUP=P0,use_cbbackupmgr=False
    test_restore_with_invalid_keyspaces,default_bucket=False,num_buckets=1,bucket_size=200,num_scopes=1,num_collections=1,defer_build=False,reset_services=True,GROUP=P0,use_cbbackupmgr=True


    # Shard-based rebalance tests
    test_backup_restore_with_shard_affinity,nodes_init=6,services_init=kv-index:n1ql-index:n1ql-index:n1ql-index:n1ql-index:n1ql,create_primary_index=False,json_template=Hotel,default_bucket=false,num_of_docs_per_collection=10000,rebalance_all_at_once=true,reset_services=True,use_cbbackupmgr=True,use_shard_based_rebalance=True,decrease_node_count=1,GROUP=FILE_BASED_REBALANCE;SET1
    test_backup_restore_with_shard_affinity,nodes_init=6,services_init=kv-index:n1ql-index:n1ql-index:n1ql-index:n1ql-index:n1ql,create_primary_index=False,json_template=Hotel,default_bucket=false,num_of_docs_per_collection=10000,rebalance_all_at_once=true,reset_services=True,use_cbbackupmgr=True,use_shard_based_rebalance=True,GROUP=FILE_BASED_REBALANCE;SET2
    test_backup_restore_with_shard_affinity,nodes_init=6,services_init=kv-index:n1ql-index:n1ql-index:n1ql-index:n1ql-index:n1ql,create_primary_index=False,json_template=Hotel,default_bucket=false,num_of_docs_per_collection=10000,rebalance_all_at_once=true,reset_services=True,use_cbbackupmgr=True,use_shard_based_rebalance=True,create_index_on_n_nodes=all,GROUP=FILE_BASED_REBALANCE;SET1
    test_backup_restore_with_shard_affinity,nodes_init=6,services_init=kv-index:n1ql-index:n1ql-index:n1ql-index:n1ql-index:n1ql,create_primary_index=False,json_template=Hotel,default_bucket=false,num_of_docs_per_collection=10000,rebalance_all_at_once=true,reset_services=True,use_cbbackupmgr=True,use_shard_based_rebalance=True,decrease_node_count=1,create_index_on_n_nodes=all,GROUP=FILE_BASED_REBALANCE;SET2
    test_backup_restore_with_shard_affinity,nodes_init=6,services_init=kv-index:n1ql-index:n1ql-index:n1ql-index:n1ql-index:n1ql,create_primary_index=False,json_template=Hotel,default_bucket=false,num_of_docs_per_collection=10000,rebalance_all_at_once=true,reset_services=True,use_cbbackupmgr=True,use_shard_based_rebalance=True,create_index_on_n_nodes=partial,GROUP=FILE_BASED_REBALANCE;SET1
    test_backup_restore_with_shard_affinity,nodes_init=6,services_init=kv-index:n1ql-index:n1ql-index:n1ql-index:n1ql-index:n1ql,create_primary_index=False,json_template=Hotel,default_bucket=false,num_of_docs_per_collection=10000,rebalance_all_at_once=true,reset_services=True,use_cbbackupmgr=True,use_shard_based_rebalance=True,decrease_node_count=1,create_index_on_n_nodes=all,GROUP=FILE_BASED_REBALANCE;SET2
    test_backup_restore_with_shard_affinity,nodes_init=6,services_init=kv-index:n1ql-index:n1ql-index:n1ql-index:n1ql-index:n1ql,create_primary_index=False,json_template=Hotel,default_bucket=false,num_of_docs_per_collection=10000,rebalance_all_at_once=true,reset_services=True,use_cbbackupmgr=True,use_shard_based_rebalance=True,rebalance_in=true,GROUP=FILE_BASED_REBALANCE;SET1
    test_backup_restore_with_shard_affinity,nodes_init=7,services_init=kv-index:n1ql-index:n1ql-index:n1ql-index:n1ql-index:n1ql,create_primary_index=False,json_template=Hotel,default_bucket=false,num_of_docs_per_collection=10000,rebalance_all_at_once=true,reset_services=True,use_cbbackupmgr=True,use_shard_based_rebalance=True,rebalance_out=true,GROUP=FILE_BASED_REBALANCE;SET2
    test_backup_restore_with_shard_affinity,nodes_init=6,services_init=kv-index:n1ql-index:n1ql-index:n1ql-index:n1ql-index:n1ql,create_primary_index=False,json_template=Hotel,default_bucket=false,num_of_docs_per_collection=10000,rebalance_all_at_once=true,reset_services=True,use_cbbackupmgr=True,use_shard_based_rebalance=True,rebalance_swap=true,GROUP=FILE_BASED_REBALANCE;SET1
