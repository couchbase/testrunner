rebalance.auto_retry_failed_rebalance.AutoRetryFailedRebalance:
    # Preset failure before rebalance out
    test_auto_retry_of_failed_rebalance_where_failure_happens_before_rebalance,items=1000000,nodes_init=3,before_rebalance_failure=stop_server,rebalance_operation=rebalance_out,GROUP=P0
    test_auto_retry_of_failed_rebalance_where_failure_happens_before_rebalance,items=1000000,nodes_init=3,before_rebalance_failure=enable_firewall,rebalance_operation=rebalance_out,GROUP=P0
    test_auto_retry_of_failed_rebalance_where_failure_happens_before_rebalance,items=1000000,nodes_init=3,before_rebalance_failure=kill_erlang,rebalance_operation=rebalance_out,GROUP=P1
    # Failure during rebalance out
    test_auto_retry_of_failed_rebalance_where_failure_happens_during_rebalance,items=1000000,nodes_init=3,during_rebalance_failure=stop_server,rebalance_operation=rebalance_out,GROUP=P1
    test_auto_retry_of_failed_rebalance_where_failure_happens_during_rebalance,items=1000000,nodes_init=3,during_rebalance_failure=kill_memcached,rebalance_operation=rebalance_out,GROUP=P0
    test_auto_retry_of_failed_rebalance_where_failure_happens_during_rebalance,items=1000000,nodes_init=3,during_rebalance_failure=enable_firewall,rebalance_operation=rebalance_out,GROUP=P1
    test_auto_retry_of_failed_rebalance_where_failure_happens_during_rebalance,items=1000000,nodes_init=3,during_rebalance_failure=kill_erlang,rebalance_operation=rebalance_out,GROUP=P0

    # Preset failure before rebalance in
    test_auto_retry_of_failed_rebalance_where_failure_happens_before_rebalance,items=1000000,nodes_init=3,before_rebalance_failure=stop_server,rebalance_operation=rebalance_in,GROUP=P0
    test_auto_retry_of_failed_rebalance_where_failure_happens_before_rebalance,items=1000000,nodes_init=3,before_rebalance_failure=enable_firewall,rebalance_operation=rebalance_in,GROUP=P0
    test_auto_retry_of_failed_rebalance_where_failure_happens_before_rebalance,items=1000000,nodes_init=3,before_rebalance_failure=kill_erlang,rebalance_operation=rebalance_in,GROUP=P1
    # Failure during rebalance in
    test_auto_retry_of_failed_rebalance_where_failure_happens_during_rebalance,items=1000000,nodes_init=3,during_rebalance_failure=stop_server,rebalance_operation=rebalance_in,GROUP=P1
    test_auto_retry_of_failed_rebalance_where_failure_happens_during_rebalance,items=1000000,nodes_init=3,during_rebalance_failure=kill_memcached,rebalance_operation=rebalance_in,GROUP=P0
    test_auto_retry_of_failed_rebalance_where_failure_happens_during_rebalance,items=1000000,nodes_init=3,during_rebalance_failure=enable_firewall,rebalance_operation=rebalance_in,GROUP=P1
    test_auto_retry_of_failed_rebalance_where_failure_happens_during_rebalance,items=1000000,nodes_init=3,during_rebalance_failure=kill_erlang,rebalance_operation=rebalance_in,GROUP=P0

    # Preset failure before swap rebalance
    test_auto_retry_of_failed_rebalance_where_failure_happens_before_rebalance,items=1000000,nodes_init=3,before_rebalance_failure=stop_server,rebalance_operation=swap_rebalance,GROUP=P0
    test_auto_retry_of_failed_rebalance_where_failure_happens_before_rebalance,items=1000000,nodes_init=3,before_rebalance_failure=enable_firewall,rebalance_operation=swap_rebalance,GROUP=P0
    test_auto_retry_of_failed_rebalance_where_failure_happens_before_rebalance,items=1000000,nodes_init=3,before_rebalance_failure=enable_firewall,rebalance_operation=kill_erlang,GROUP=P1
    # Failure during swap rebalance
    test_auto_retry_of_failed_rebalance_where_failure_happens_during_rebalance,items=1000000,nodes_init=3,during_rebalance_failure=stop_server,rebalance_operation=swap_rebalance,GROUP=P1
    test_auto_retry_of_failed_rebalance_where_failure_happens_during_rebalance,items=1000000,nodes_init=3,during_rebalance_failure=kill_memcached,rebalance_operation=swap_rebalance,GROUP=P0
    test_auto_retry_of_failed_rebalance_where_failure_happens_during_rebalance,items=1000000,nodes_init=3,during_rebalance_failure=enable_firewall,rebalance_operation=swap_rebalance,GROUP=P1
    test_auto_retry_of_failed_rebalance_where_failure_happens_during_rebalance,items=1000000,nodes_init=3,during_rebalance_failure=kill_erlang,rebalance_operation=swap_rebalance,GROUP=P0

    # Failure during graceful failover
    test_auto_retry_of_failed_rebalance_where_failure_happens_during_rebalance,items=3000000,nodes_init=3,during_rebalance_failure=stop_server,rebalance_operation=graceful_failover,GROUP=P1
    test_auto_retry_of_failed_rebalance_where_failure_happens_during_rebalance,items=3000000,nodes_init=3,during_rebalance_failure=kill_memcached,rebalance_operation=graceful_failover,GROUP=P0
    test_auto_retry_of_failed_rebalance_where_failure_happens_during_rebalance,items=3000000,nodes_init=3,during_rebalance_failure=enable_firewall,rebalance_operation=graceful_failover,GROUP=P1
    test_auto_retry_of_failed_rebalance_where_failure_happens_during_rebalance,items=3000000,nodes_init=3,during_rebalance_failure=kill_erlang,rebalance_operation=graceful_failover,GROUP=P0

    # Negative Testcases where auto retry wont be attempted
    test_negative_auto_retry_of_failed_rebalance_where_rebalance_will_be_cancelled,items=1000000,nodes_init=3,rebalance_operation=rebalance_out,post_failure_operation=cancel_pending_rebalance,GROUP=P0
    test_negative_auto_retry_of_failed_rebalance_where_rebalance_will_be_cancelled,items=1000000,nodes_init=3,rebalance_operation=rebalance_in,post_failure_operation=cancel_pending_rebalance,GROUP=P1
    test_negative_auto_retry_of_failed_rebalance_where_rebalance_will_be_cancelled,items=1000000,nodes_init=3,rebalance_operation=swap_rebalance,post_failure_operation=cancel_pending_rebalance,GROUP=P1

    test_negative_auto_retry_of_failed_rebalance_where_rebalance_will_be_cancelled,items=1000000,nodes_init=3,rebalance_operation=rebalance_out,post_failure_operation=disable_auto_retry,GROUP=P1
    test_negative_auto_retry_of_failed_rebalance_where_rebalance_will_be_cancelled,items=1000000,nodes_init=3,rebalance_operation=rebalance_in,post_failure_operation=disable_auto_retry,GROUP=P0
    test_negative_auto_retry_of_failed_rebalance_where_rebalance_will_be_cancelled,items=1000000,nodes_init=3,rebalance_operation=swap_rebalance,post_failure_operation=disable_auto_retry,GROUP=P1

    test_negative_auto_retry_of_failed_rebalance_where_rebalance_will_be_cancelled,items=1000000,nodes_init=3,rebalance_operation=rebalance_out,post_failure_operation=retry_failed_rebalance_manually,GROUP=P1
    test_negative_auto_retry_of_failed_rebalance_where_rebalance_will_be_cancelled,items=1000000,nodes_init=3,rebalance_operation=rebalance_in,post_failure_operation=retry_failed_rebalance_manually,GROUP=P1
    test_negative_auto_retry_of_failed_rebalance_where_rebalance_will_be_cancelled,items=1000000,nodes_init=3,rebalance_operation=swap_rebalance,post_failure_operation=retry_failed_rebalance_manually,GROUP=P0

    # Negative Testcases where auto retry will be attempted but will not succeed
    test_negative_auto_retry_of_failed_rebalance_where_rebalance_will_not_be_cancelled,items=1000000,nodes_init=3,rebalance_operation=rebalance_out,post_failure_operation=create_delete_buckets,GROUP=P0
    test_negative_auto_retry_of_failed_rebalance_where_rebalance_will_not_be_cancelled,items=1000000,nodes_init=3,rebalance_operation=rebalance_in,post_failure_operation=create_delete_buckets,GROUP=P1
    test_negative_auto_retry_of_failed_rebalance_where_rebalance_will_not_be_cancelled,items=1000000,nodes_init=3,rebalance_operation=swap_rebalance,post_failure_operation=create_delete_buckets,GROUP=P1

    test_negative_auto_retry_of_failed_rebalance_where_rebalance_will_not_be_cancelled,items=1000000,nodes_init=3,rebalance_operation=rebalance_out,post_failure_operation=change_replica_count,GROUP=P1
    test_negative_auto_retry_of_failed_rebalance_where_rebalance_will_not_be_cancelled,items=1000000,nodes_init=3,rebalance_operation=rebalance_in,post_failure_operation=change_replica_count,GROUP=P0
    test_negative_auto_retry_of_failed_rebalance_where_rebalance_will_not_be_cancelled,items=1000000,nodes_init=3,rebalance_operation=swap_rebalance,post_failure_operation=change_replica_count,GROUP=P1

    test_negative_auto_retry_of_failed_rebalance_where_rebalance_will_not_be_cancelled,items=1000000,nodes_init=3,rebalance_operation=rebalance_out,post_failure_operation=change_server_group,GROUP=P1
    test_negative_auto_retry_of_failed_rebalance_where_rebalance_will_not_be_cancelled,items=1000000,nodes_init=3,rebalance_operation=rebalance_in,post_failure_operation=change_server_group,GROUP=P1
    test_negative_auto_retry_of_failed_rebalance_where_rebalance_will_not_be_cancelled,items=1000000,nodes_init=3,rebalance_operation=swap_rebalance,post_failure_operation=change_server_group,GROUP=P0

    # Retry of failed rebalances - failed through different test conditions
    test_auto_retry_of_failed_rebalance_with_rebalance_test_conditions,items=1000000,nodes_init=3,rebalance_operation=rebalance_out,test_failure_condition=rebalance_start,GROUP=P0
    test_auto_retry_of_failed_rebalance_with_rebalance_test_conditions,items=1000000,nodes_init=3,rebalance_operation=rebalance_in,test_failure_condition=rebalance_start,GROUP=P1
    test_auto_retry_of_failed_rebalance_with_rebalance_test_conditions,items=1000000,nodes_init=3,rebalance_operation=swap_rebalance,test_failure_condition=rebalance_start,GROUP=P1

    # this particular failure condition is not working, check with abhi
    #test_auto_retry_of_failed_rebalance_with_rebalance_test_conditions,items=1000000,nodes_init=3,rebalance_operation=rebalance_out,test_failure_condition=apply_delta_recovery,GROUP=P1
    #test_auto_retry_of_failed_rebalance_with_rebalance_test_conditions,items=1000000,nodes_init=3,rebalance_operation=rebalance_in,test_failure_condition=apply_delta_recovery,GROUP=P1
    #test_auto_retry_of_failed_rebalance_with_rebalance_test_conditions,items=1000000,nodes_init=3,rebalance_operation=swap_rebalance,test_failure_condition=apply_delta_recovery,GROUP=P1

    test_auto_retry_of_failed_rebalance_with_rebalance_test_conditions,items=1000000,nodes_init=3,rebalance_operation=rebalance_out,test_failure_condition=after_apply_delta_recovery,GROUP=P1
    test_auto_retry_of_failed_rebalance_with_rebalance_test_conditions,items=1000000,nodes_init=3,rebalance_operation=rebalance_in,test_failure_condition=after_apply_delta_recovery,GROUP=P1
    test_auto_retry_of_failed_rebalance_with_rebalance_test_conditions,items=1000000,nodes_init=3,rebalance_operation=swap_rebalance,test_failure_condition=after_apply_delta_recovery,GROUP=P0

    test_auto_retry_of_failed_rebalance_with_rebalance_test_conditions,items=1000000,nodes_init=3,rebalance_operation=rebalance_out,test_failure_condition=rebalance_cluster_nodes_active,GROUP=P0
    test_auto_retry_of_failed_rebalance_with_rebalance_test_conditions,items=1000000,nodes_init=3,rebalance_operation=rebalance_in,test_failure_condition=rebalance_cluster_nodes_active,GROUP=P1
    test_auto_retry_of_failed_rebalance_with_rebalance_test_conditions,items=1000000,nodes_init=3,rebalance_operation=swap_rebalance,test_failure_condition=rebalance_cluster_nodes_active,GROUP=P1

    # Test rebalance failures with different test conditions
    test_auto_retry_of_failed_rebalance_with_rebalance_test_conditions,items=1000000,nodes_init=3,rebalance_operation=rebalance_out,test_failure_condition=verify_replication,GROUP=P0
    test_auto_retry_of_failed_rebalance_with_rebalance_test_conditions,items=1000000,nodes_init=3,rebalance_operation=rebalance_in,test_failure_condition=verify_replication,GROUP=P1
    test_auto_retry_of_failed_rebalance_with_rebalance_test_conditions,items=1000000,nodes_init=3,rebalance_operation=swap_rebalance,test_failure_condition=verify_replication,GROUP=P1

    test_auto_retry_of_failed_rebalance_with_rebalance_test_conditions,items=1000000,nodes_init=3,rebalance_operation=rebalance_out,test_failure_condition=backfill_done,GROUP=P1
    test_auto_retry_of_failed_rebalance_with_rebalance_test_conditions,items=1000000,nodes_init=3,rebalance_operation=rebalance_in,test_failure_condition=backfill_done,GROUP=P0
    test_auto_retry_of_failed_rebalance_with_rebalance_test_conditions,items=1000000,nodes_init=3,rebalance_operation=swap_rebalance,test_failure_condition=backfill_done,GROUP=P0

    test_auto_retry_of_failed_rebalance_with_rebalance_test_conditions,items=1000000,nodes_init=3,rebalance_operation=rebalance_out,test_failure_condition=rebalance_start,GROUP=P0
    test_auto_retry_of_failed_rebalance_with_rebalance_test_conditions,items=1000000,nodes_init=3,rebalance_operation=rebalance_in,test_failure_condition=rebalance_start,GROUP=P1
    test_auto_retry_of_failed_rebalance_with_rebalance_test_conditions,items=1000000,nodes_init=3,rebalance_operation=swap_rebalance,test_failure_condition=rebalance_start,GROUP=P1

    test_auto_retry_of_failed_rebalance_with_rebalance_test_conditions,items=1000000,nodes_init=3,rebalance_operation=rebalance_out,test_failure_condition=after_apply_delta_recovery,GROUP=P1
    test_auto_retry_of_failed_rebalance_with_rebalance_test_conditions,items=1000000,nodes_init=3,rebalance_operation=rebalance_in,test_failure_condition=after_apply_delta_recovery,GROUP=P0
    test_auto_retry_of_failed_rebalance_with_rebalance_test_conditions,items=1000000,nodes_init=3,rebalance_operation=swap_rebalance,test_failure_condition=after_apply_delta_recovery,GROUP=P0

    test_auto_retry_of_failed_rebalance_with_rebalance_test_conditions,items=1000000,nodes_init=3,rebalance_operation=rebalance_out,test_failure_condition=rebalance_cluster_nodes_active,GROUP=P0
    test_auto_retry_of_failed_rebalance_with_rebalance_test_conditions,items=1000000,nodes_init=3,rebalance_operation=rebalance_in,test_failure_condition=rebalance_cluster_nodes_active,GROUP=P1
    test_auto_retry_of_failed_rebalance_with_rebalance_test_conditions,items=1000000,nodes_init=3,rebalance_operation=swap_rebalance,test_failure_condition=rebalance_cluster_nodes_active,GROUP=P1

    # Tests auto retry of failed rebalance with autofailover enabled
    test_auto_retry_of_failed_rebalance_with_autofailvoer_enabled,items=1000000,nodes_init=3,before_rebalance_failure=stop_server,rebalance_operation=rebalance_out,disable_auto_failover=False,auto_failover_timeout=60,afterTimePeriod=180
    test_auto_retry_of_failed_rebalance_with_autofailvoer_enabled,items=1000000,nodes_init=3,before_rebalance_failure=stop_server,rebalance_operation=rebalance_out,disable_auto_failover=False,auto_failover_timeout=180,afterTimePeriod=60

    #test_auto_retry_of_failed_rebalance_where_failure_happens_during_rebalance,items=3000000,nodes_init=3,during_rebalance_failure=reboot_server,sleep_time=30,afterTimePeriod=500,rebalance_operation=rebalance_out,GROUP=P1
    #test_auto_retry_of_failed_rebalance_where_failure_happens_during_rebalance,items=3000000,nodes_init=3,during_rebalance_failure=reboot_server,sleep_time=30,afterTimePeriod=500,rebalance_operation=rebalance_in,GROUP=P1
    #test_auto_retry_of_failed_rebalance_where_failure_happens_during_rebalance,items=3000000,nodes_init=3,during_rebalance_failure=reboot_server,sleep_time=30,afterTimePeriod=500,rebalance_operation=swap_rebalance,GROUP=P1
    #test_auto_retry_of_failed_rebalance_where_failure_happens_during_rebalance,items=3000000,nodes_init=3,during_rebalance_failure=reboot_server,sleep_time=30,afterTimePeriod=500,rebalance_operation=graceful_failover,GROUP=P1
