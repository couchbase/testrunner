fts.fts_backup_restore.BackupRestore:

    test_backup_restore,GROUP=P0;MULTIPLE_CA,no_buckets=True,kv=["b1"],idx=[("i1","b1")],expected_indexes=["i1"]
    test_backup_restore,GROUP=P1;MULTIPLE_CA,no_buckets=True,kv=["b1"],idx=[("i1","b1")],filter={"option": "include", "containers": ["b1"]},expected_indexes=["i1"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1"],idx=[("i1","b1")],filter={"option": "exclude", "containers": ["b1"]},expected_indexes=[]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1"],idx=[("i1","b1")],filter={"option": "exclude", "containers": ["b1"]},expected_indexes=[],scoring_model=bm25

    test_backup_restore,GROUP=P0,no_buckets=True,kv=["b1.s1.c1"],idx=[("i1","b1"),("i2","b1.s1.c1")],filter={"option": "include", "containers": ["b1"]},expected_indexes=["i1", "i2"],scoring_model=bm25
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1"],idx=[("i1","b1"),("i2","b1.s1.c1")],filter={"option": "include", "containers": ["b1.s1"]},expected_indexes=["i2"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1"],idx=[("i1","b1"),("i2","b1.s1.c1")],filter={"option": "include", "containers": ["b1.s1.c1"]},expected_indexes=["i2"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1"],idx=[("i1","b1"),("i2","b1.s1.c1")],filter={"option": "exclude", "containers": ["b1"]},expected_indexes=[]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1"],idx=[("i1","b1"),("i2","b1.s1.c1")],filter={"option": "exclude", "containers": ["b1.s1"]},expected_indexes=["i1"],scoring_model=bm25
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1"],idx=[("i1","b1"),("i2","b1.s1.c1")],filter={"option": "exclude", "containers": ["b1.s1.c1"]},expected_indexes=["i1"]

    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s1.c2"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s1.c1,b1.s1.c2")],expected_indexes=["i1","i2","i3"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s1.c2"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s1.c1,b1.s1.c2")],filter={"option": "include", "containers": ["b1"]},expected_indexes=["i1","i2","i3"],scoring_model=bm25
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s1.c2"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s1.c1,b1.s1.c2")],filter={"option": "include", "containers": ["b1.s1"]},expected_indexes=["i2","i3"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s1.c2"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s1.c1,b1.s1.c2")],filter={"option": "include", "containers": ["b1.s1.c1"]},expected_indexes=["i2"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s1.c2"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s1.c1,b1.s1.c2")],filter={"option": "include", "containers": ["b1.s1.c1,b1.s1.c2"]},expected_indexes=["i2","i3"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s1.c2"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s1.c1,b1.s1.c2")],filter={"option": "exclude", "containers": ["b1"]},expected_indexes=[]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s1.c2"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s1.c1,b1.s1.c2")],filter={"option": "exclude", "containers": ["b1.s1"]},expected_indexes=["i1"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s1.c2"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s1.c1,b1.s1.c2")],filter={"option": "exclude", "containers": ["b1.s1.c1"]},expected_indexes=["i1","i3"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s1.c2"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s1.c1,b1.s1.c2")],filter={"option": "exclude", "containers": ["b1.s1.c1,b1.s1.c2"]},expected_indexes=["i1"]

    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1")],expected_indexes=["i1","i2","i3"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1")],filter={"option": "include", "containers": ["b1"]},expected_indexes=["i1","i2","i3"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1")],filter={"option": "include", "containers": ["b1.s1"]},expected_indexes=["i2"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1")],filter={"option": "include", "containers": ["b1.s1.c1"]},expected_indexes=["i2"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1")],filter={"option": "include", "containers": ["b1.s2"]},expected_indexes=["i3"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1")],filter={"option": "include", "containers": ["b1.s2.c1"]},expected_indexes=["i3"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1")],filter={"option": "include", "containers": ["b1.s1,b1.s2"]},expected_indexes=["i2","i3"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1")],filter={"option": "include", "containers": ["b1.s1,b1.s2.c1"]},expected_indexes=["i2","i3"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1")],filter={"option": "include", "containers": ["b1.s1.c1,b1.s2.c1"]},expected_indexes=["i2","i3"],scoring_model=bm25
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1")],filter={"option": "exclude", "containers": ["b1"]},expected_indexes=[]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1")],filter={"option": "exclude", "containers": ["b1.s1"]},expected_indexes=["i1","i3"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1")],filter={"option": "exclude", "containers": ["b1.s1.c1"]},expected_indexes=["i1","i3"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1")],filter={"option": "exclude", "containers": ["b1.s2"]},expected_indexes=["i1","i2"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1")],filter={"option": "exclude", "containers": ["b1.s2.c1"]},expected_indexes=["i1","i2"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1")],filter={"option": "exclude", "containers": ["b1.s1,b1.s2"]},expected_indexes=["i1"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1")],filter={"option": "exclude", "containers": ["b1.s1,b1.s2.c1"]},expected_indexes=["i1"]
    test_backup_restore,GROUP=P0,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1")],filter={"option": "exclude", "containers": ["b1.s1.c1,b1.s2.c1"]},expected_indexes=["i1"]

    test_backup_restore,GROUP=P1;MULTIPLE_CA,no_buckets=True,kv=["b1", "b2"],idx=[("i1","b1"),("i2","b2")],expected_indexes=["i1","i2"]
    test_backup_restore,GROUP=P1;MULTIPLE_CA,no_buckets=True,kv=["b1", "b2"],idx=[("i1","b1"),("i2","b2")],filter={"option": "include", "containers": ["b1"]},expected_indexes=["i1"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1", "b2"],idx=[("i1","b1"),("i2","b2")],filter={"option": "include", "containers": ["b1,b2"]},expected_indexes=["i1","i2"],scoring_model=bm25
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1", "b2"],idx=[("i1","b1"),("i2","b2")],filter={"option": "exclude", "containers": ["b1"]},expected_indexes=["i2"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1", "b2"],idx=[("i1","b1"),("i2","b2")],filter={"option": "exclude", "containers": ["b1,b2"]},expected_indexes=[]

    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1", "b2.s1.c1"],idx=[("i1","b1"),("i2","b2"),("i3","b2.s1.c1")],expected_indexes=["i1","i2","i3"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1", "b2.s1.c1"],idx=[("i1","b1"),("i2","b2"),("i3","b2.s1.c1")],filter={"option": "include", "containers": ["b1"]},expected_indexes=["i1"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1", "b2.s1.c1"],idx=[("i1","b1"),("i2","b2"),("i3","b2.s1.c1")],filter={"option": "include", "containers": ["b1,b2"]},expected_indexes=["i1","i2","i3"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1", "b2.s1.c1"],idx=[("i1","b1"),("i2","b2"),("i3","b2.s1.c1")],filter={"option": "include", "containers": ["b1,b2.s1"]},expected_indexes=["i1","i3"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1", "b2.s1.c1"],idx=[("i1","b1"),("i2","b2"),("i3","b2.s1.c1")],filter={"option": "include", "containers": ["b1,b2.s1.c1"]},expected_indexes=["i1","i3"],scoring_model=bm25
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1", "b2.s1.c1"],idx=[("i1","b1"),("i2","b2"),("i3","b2.s1.c1")],filter={"option": "include", "containers": ["b2"]},expected_indexes=["i2","i3"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1", "b2.s1.c1"],idx=[("i1","b1"),("i2","b2"),("i3","b2.s1.c1")],filter={"option": "include", "containers": ["b2.s1"]},expected_indexes=["i3"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1", "b2.s1.c1"],idx=[("i1","b1"),("i2","b2"),("i3","b2.s1.c1")],filter={"option": "include", "containers": ["b2.s1.c1"]},expected_indexes=["i3"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1", "b2.s1.c1"],idx=[("i1","b1"),("i2","b2"),("i3","b2.s1.c1")],filter={"option": "exclude", "containers": ["b1"]},expected_indexes=["i2","i3"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1", "b2.s1.c1"],idx=[("i1","b1"),("i2","b2"),("i3","b2.s1.c1")],filter={"option": "exclude", "containers": ["b1,b2"]},expected_indexes=[]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1", "b2.s1.c1"],idx=[("i1","b1"),("i2","b2"),("i3","b2.s1.c1")],filter={"option": "exclude", "containers": ["b1,b2.s1"]},expected_indexes=[]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1", "b2.s1.c1"],idx=[("i1","b1"),("i2","b2"),("i3","b2.s1.c1")],filter={"option": "exclude", "containers": ["b1,b2.s1.c1"]},expected_indexes=[]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1", "b2.s1.c1"],idx=[("i1","b1"),("i2","b2"),("i3","b2.s1.c1")],filter={"option": "exclude", "containers": ["b2"]},expected_indexes=["i1"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1", "b2.s1.c1"],idx=[("i1","b1"),("i2","b2"),("i3","b2.s1.c1")],filter={"option": "exclude", "containers": ["b2.s1"]},expected_indexes=["i1","i2"]
    test_backup_restore,GROUP=P0,no_buckets=True,kv=["b1", "b2.s1.c1"],idx=[("i1","b1"),("i2","b2"),("i3","b2.s1.c1")],filter={"option": "exclude", "containers": ["b2.s1.c1"]},expected_indexes=["i1","i2"]

    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b2.s1.c1"],idx=[("i1","b1"),("i2","b2"),("i3","b1.s1.c1"),("i4","b2.s1.c1")],expected_indexes=["i1","i2","i3","i4"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b2.s1.c1"],idx=[("i1","b1"),("i2","b2"),("i3","b1.s1.c1"),("i4","b2.s1.c1")],filter={"option": "include", "containers": ["b1"]},expected_indexes=["i1","i3"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b2.s1.c1"],idx=[("i1","b1"),("i2","b2"),("i3","b1.s1.c1"),("i4","b2.s1.c1")],filter={"option": "include", "containers": ["b1.s1"]},expected_indexes=["i3"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b2.s1.c1"],idx=[("i1","b1"),("i2","b2"),("i3","b1.s1.c1"),("i4","b2.s1.c1")],filter={"option": "include", "containers": ["b1.s1.c1"]},expected_indexes=["i3"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b2.s1.c1"],idx=[("i1","b1"),("i2","b2"),("i3","b1.s1.c1"),("i4","b2.s1.c1")],filter={"option": "include", "containers": ["b1,b2"]},expected_indexes=["i1","i2","i3","i4"],scoring_model=bm25
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b2.s1.c1"],idx=[("i1","b1"),("i2","b2"),("i3","b1.s1.c1"),("i4","b2.s1.c1")],filter={"option": "include", "containers": ["b1,b2.s1"]},expected_indexes=["i1","i3","i4"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b2.s1.c1"],idx=[("i1","b1"),("i2","b2"),("i3","b1.s1.c1"),("i4","b2.s1.c1")],filter={"option": "include", "containers": ["b1,b2.s1.c1"]},expected_indexes=["i1","i3","i4"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b2.s1.c1"],idx=[("i1","b1"),("i2","b2"),("i3","b1.s1.c1"),("i4","b2.s1.c1")],filter={"option": "include", "containers": ["b1.s1,b2"]},expected_indexes=["i2","i3","i4"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b2.s1.c1"],idx=[("i1","b1"),("i2","b2"),("i3","b1.s1.c1"),("i4","b2.s1.c1")],filter={"option": "include", "containers": ["b1.s1,b2.s1"]},expected_indexes=["i3","i4"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b2.s1.c1"],idx=[("i1","b1"),("i2","b2"),("i3","b1.s1.c1"),("i4","b2.s1.c1")],filter={"option": "include", "containers": ["b1.s1,b2.s1.c1"]},expected_indexes=["i3","i4"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b2.s1.c1"],idx=[("i1","b1"),("i2","b2"),("i3","b1.s1.c1"),("i4","b2.s1.c1")],filter={"option": "include", "containers": ["b1.s1.c1,b2"]},expected_indexes=["i2","i3","i4"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b2.s1.c1"],idx=[("i1","b1"),("i2","b2"),("i3","b1.s1.c1"),("i4","b2.s1.c1")],filter={"option": "include", "containers": ["b1.s1.c1,b2.s1"]},expected_indexes=["i3","i4"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b2.s1.c1"],idx=[("i1","b1"),("i2","b2"),("i3","b1.s1.c1"),("i4","b2.s1.c1")],filter={"option": "include", "containers": ["b1.s1.c1,b2.s1.c1"]},expected_indexes=["i3","i4"],scoring_model=bm25
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b2.s1.c1"],idx=[("i1","b1"),("i2","b2"),("i3","b1.s1.c1"),("i4","b2.s1.c1")],filter={"option": "exclude", "containers": ["b1"]},expected_indexes=["i2","i4"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b2.s1.c1"],idx=[("i1","b1"),("i2","b2"),("i3","b1.s1.c1"),("i4","b2.s1.c1")],filter={"option": "exclude", "containers": ["b1.s1"]},expected_indexes=["i1","i2","i4"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b2.s1.c1"],idx=[("i1","b1"),("i2","b2"),("i3","b1.s1.c1"),("i4","b2.s1.c1")],filter={"option": "exclude", "containers": ["b1.s1.c1"]},expected_indexes=["i1","i2","i4"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b2.s1.c1"],idx=[("i1","b1"),("i2","b2"),("i3","b1.s1.c1"),("i4","b2.s1.c1")],filter={"option": "exclude", "containers": ["b1,b2"]},expected_indexes=[]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b2.s1.c1"],idx=[("i1","b1"),("i2","b2"),("i3","b1.s1.c1"),("i4","b2.s1.c1")],filter={"option": "exclude", "containers": ["b1,b2.s1"]},expected_indexes=["i2"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b2.s1.c1"],idx=[("i1","b1"),("i2","b2"),("i3","b1.s1.c1"),("i4","b2.s1.c1")],filter={"option": "exclude", "containers": ["b1,b2.s1.c1"]},expected_indexes=["i2"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b2.s1.c1"],idx=[("i1","b1"),("i2","b2"),("i3","b1.s1.c1"),("i4","b2.s1.c1")],filter={"option": "exclude", "containers": ["b1.s1,b2"]},expected_indexes=["i1"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b2.s1.c1"],idx=[("i1","b1"),("i2","b2"),("i3","b1.s1.c1"),("i4","b2.s1.c1")],filter={"option": "exclude", "containers": ["b1.s1,b2.s1"]},expected_indexes=["i1","i2"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b2.s1.c1"],idx=[("i1","b1"),("i2","b2"),("i3","b1.s1.c1"),("i4","b2.s1.c1")],filter={"option": "exclude", "containers": ["b1.s1,b2.s1.c1"]},expected_indexes=["i1","i2"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b2.s1.c1"],idx=[("i1","b1"),("i2","b2"),("i3","b1.s1.c1"),("i4","b2.s1.c1")],filter={"option": "exclude", "containers": ["b1.s1.c1,b2"]},expected_indexes=["i1"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b2.s1.c1"],idx=[("i1","b1"),("i2","b2"),("i3","b1.s1.c1"),("i4","b2.s1.c1")],filter={"option": "exclude", "containers": ["b1.s1.c1,b2.s1"]},expected_indexes=["i1","i2"]
    test_backup_restore,GROUP=P0,no_buckets=True,kv=["b1.s1.c1", "b2.s1.c1"],idx=[("i1","b1"),("i2","b2"),("i3","b1.s1.c1"),("i4","b2.s1.c1")],filter={"option": "exclude", "containers": ["b1.s1.c1,b2.s1.c1"]},expected_indexes=["i1","i2"]

    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s1.c2", "b2.s1.c1", "b2.s1.c2"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s1.c2"),("i4","b1.s1.c1,b1.s1.c2"),("i5","b2"),("i6","b2.s1.c1"),("i7","b2.s1.c2"),("i8","b2.s1.c1,b2.s1.c2")],expected_indexes=["i1","i2","i3","i4","i5","i6","i7","i8"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s1.c2", "b2.s1.c1", "b2.s1.c2"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s1.c2"),("i4","b1.s1.c1,b1.s1.c2"),("i5","b2"),("i6","b2.s1.c1"),("i7","b2.s1.c2"),("i8","b2.s1.c1,b2.s1.c2")],filter={"option": "include", "containers": ["b1"]},expected_indexes=["i1","i2","i3","i4"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s1.c2", "b2.s1.c1", "b2.s1.c2"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s1.c2"),("i4","b1.s1.c1,b1.s1.c2"),("i5","b2"),("i6","b2.s1.c1"),("i7","b2.s1.c2"),("i8","b2.s1.c1,b2.s1.c2")],filter={"option": "include", "containers": ["b1.s1"]},expected_indexes=["i2","i3","i4"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s1.c2", "b2.s1.c1", "b2.s1.c2"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s1.c2"),("i4","b1.s1.c1,b1.s1.c2"),("i5","b2"),("i6","b2.s1.c1"),("i7","b2.s1.c2"),("i8","b2.s1.c1,b2.s1.c2")],filter={"option": "include", "containers": ["b1.s1.c1"]},expected_indexes=["i2"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s1.c2", "b2.s1.c1", "b2.s1.c2"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s1.c2"),("i4","b1.s1.c1,b1.s1.c2"),("i5","b2"),("i6","b2.s1.c1"),("i7","b2.s1.c2"),("i8","b2.s1.c1,b2.s1.c2")],filter={"option": "include", "containers": ["b1.s1.c1,b1.s1.c2"]},expected_indexes=["i2","i3","i4"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s1.c2", "b2.s1.c1", "b2.s1.c2"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s1.c2"),("i4","b1.s1.c1,b1.s1.c2"),("i5","b2"),("i6","b2.s1.c1"),("i7","b2.s1.c2"),("i8","b2.s1.c1,b2.s1.c2")],filter={"option": "include", "containers": ["b1,b2"]},expected_indexes=["i1","i2","i3","i4","i5","i6","i7","i8"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s1.c2", "b2.s1.c1", "b2.s1.c2"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s1.c2"),("i4","b1.s1.c1,b1.s1.c2"),("i5","b2"),("i6","b2.s1.c1"),("i7","b2.s1.c2"),("i8","b2.s1.c1,b2.s1.c2")],filter={"option": "include", "containers": ["b1.s1,b2"]},expected_indexes=["i2","i3","i4","i5","i6","i7","i8"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s1.c2", "b2.s1.c1", "b2.s1.c2"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s1.c2"),("i4","b1.s1.c1,b1.s1.c2"),("i5","b2"),("i6","b2.s1.c1"),("i7","b2.s1.c2"),("i8","b2.s1.c1,b2.s1.c2")],filter={"option": "include", "containers": ["b1.s1.c1,b2"]},expected_indexes=["i2","i5","i6","i7","i8"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s1.c2", "b2.s1.c1", "b2.s1.c2"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s1.c2"),("i4","b1.s1.c1,b1.s1.c2"),("i5","b2"),("i6","b2.s1.c1"),("i7","b2.s1.c2"),("i8","b2.s1.c1,b2.s1.c2")],filter={"option": "include", "containers": ["b1.s1.c1,b1.s1.c2,b2"]},expected_indexes=["i2","i3","i4","i5","i6","i7","i8"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s1.c2", "b2.s1.c1", "b2.s1.c2"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s1.c2"),("i4","b1.s1.c1,b1.s1.c2"),("i5","b2"),("i6","b2.s1.c1"),("i7","b2.s1.c2"),("i8","b2.s1.c1,b2.s1.c2")],/filter={"option": "include", "containers": ["b1.s1,b2.s1"]},expected_indexes=["i2","i3","i4","i6","i7","i8"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s1.c2", "b2.s1.c1", "b2.s1.c2"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s1.c2"),("i4","b1.s1.c1,b1.s1.c2"),("i5","b2"),("i6","b2.s1.c1"),("i7","b2.s1.c2"),("i8","b2.s1.c1,b2.s1.c2")],filter={"option": "include", "containers": ["b1.s1.c1,b2.s1"]},expected_indexes=["i2","i6","i7","i8"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s1.c2", "b2.s1.c1", "b2.s1.c2"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s1.c2"),("i4","b1.s1.c1,b1.s1.c2"),("i5","b2"),("i6","b2.s1.c1"),("i7","b2.s1.c2"),("i8","b2.s1.c1,b2.s1.c2")],filter={"option": "include", "containers": ["b1.s1.c1,b1.s1.c2,b2.s1"]},expected_indexes=["i2","i3","i4","i6","i7","i8"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s1.c2", "b2.s1.c1", "b2.s1.c2"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s1.c2"),("i4","b1.s1.c1,b1.s1.c2"),("i5","b2"),("i6","b2.s1.c1"),("i7","b2.s1.c2"),("i8","b2.s1.c1,b2.s1.c2")],filter={"option": "include", "containers": ["b1.s1.c1,b2.s1.c1"]},expected_indexes=["i2","i6"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s1.c2", "b2.s1.c1", "b2.s1.c2"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s1.c2"),("i4","b1.s1.c1,b1.s1.c2"),("i5","b2"),("i6","b2.s1.c1"),("i7","b2.s1.c2"),("i8","b2.s1.c1,b2.s1.c2")],filter={"option": "include", "containers": ["b1.s1.c1,b1.s1.c2,b2.s1.c1"]},expected_indexes=["i2","i3","i4","i6"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s1.c2", "b2.s1.c1", "b2.s1.c2"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s1.c2"),("i4","b1.s1.c1,b1.s1.c2"),("i5","b2"),("i6","b2.s1.c1"),("i7","b2.s1.c2"),("i8","b2.s1.c1,b2.s1.c2")],filter={"option": "include", "containers": ["b1.s1.c1,b1.s1.c2,b2.s1.c1,b2.s1.c2"]},expected_indexes=["i2","i3","i4","i6","i7","i8"],scoring_model=bm25
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s1.c2", "b2.s1.c1", "b2.s1.c2"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s1.c2"),("i4","b1.s1.c1,b1.s1.c2"),("i5","b2"),("i6","b2.s1.c1"),("i7","b2.s1.c2"),("i8","b2.s1.c1,b2.s1.c2")],filter={"option": "exclude", "containers": ["b1"]},expected_indexes=["i5","i6","i7","i8"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s1.c2", "b2.s1.c1", "b2.s1.c2"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s1.c2"),("i4","b1.s1.c1,b1.s1.c2"),("i5","b2"),("i6","b2.s1.c1"),("i7","b2.s1.c2"),("i8","b2.s1.c1,b2.s1.c2")],filter={"option": "exclude", "containers": ["b1.s1"]},expected_indexes=["i1","i5","i6","i7","i8"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s1.c2", "b2.s1.c1", "b2.s1.c2"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s1.c2"),("i4","b1.s1.c1,b1.s1.c2"),("i5","b2"),("i6","b2.s1.c1"),("i7","b2.s1.c2"),("i8","b2.s1.c1,b2.s1.c2")],filter={"option": "exclude", "containers": ["b1.s1.c1"]},expected_indexes=["i1","i3","i5","i6","i7","i8"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s1.c2", "b2.s1.c1", "b2.s1.c2"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s1.c2"),("i4","b1.s1.c1,b1.s1.c2"),("i5","b2"),("i6","b2.s1.c1"),("i7","b2.s1.c2"),("i8","b2.s1.c1,b2.s1.c2")],filter={"option": "exclude", "containers": ["b1.s1.c1,b1.s1.c2"]},expected_indexes=["i1","i5","i6","i7","i8"],scoring_model=bm25
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s1.c2", "b2.s1.c1", "b2.s1.c2"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s1.c2"),("i4","b1.s1.c1,b1.s1.c2"),("i5","b2"),("i6","b2.s1.c1"),("i7","b2.s1.c2"),("i8","b2.s1.c1,b2.s1.c2")],filter={"option": "exclude", "containers": ["b1,b2"]},expected_indexes=[]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s1.c2", "b2.s1.c1", "b2.s1.c2"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s1.c2"),("i4","b1.s1.c1,b1.s1.c2"),("i5","b2"),("i6","b2.s1.c1"),("i7","b2.s1.c2"),("i8","b2.s1.c1,b2.s1.c2")],filter={"option": "exclude", "containers": ["b1.s1,b2"]},expected_indexes=["i1"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s1.c2", "b2.s1.c1", "b2.s1.c2"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s1.c2"),("i4","b1.s1.c1,b1.s1.c2"),("i5","b2"),("i6","b2.s1.c1"),("i7","b2.s1.c2"),("i8","b2.s1.c1,b2.s1.c2")],filter={"option": "exclude", "containers": ["b1.s1.c1,b2"]},expected_indexes=["i1","i3"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s1.c2", "b2.s1.c1", "b2.s1.c2"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s1.c2"),("i4","b1.s1.c1,b1.s1.c2"),("i5","b2"),("i6","b2.s1.c1"),("i7","b2.s1.c2"),("i8","b2.s1.c1,b2.s1.c2")],filter={"option": "exclude", "containers": ["b1.s1.c1,b1.s1.c2,b2"]},expected_indexes=["i1"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s1.c2", "b2.s1.c1", "b2.s1.c2"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s1.c2"),("i4","b1.s1.c1,b1.s1.c2"),("i5","b2"),("i6","b2.s1.c1"),("i7","b2.s1.c2"),("i8","b2.s1.c1,b2.s1.c2")],/filter={"option": "exclude", "containers": ["b1.s1,b2.s1"]},expected_indexes=["i1","i5"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s1.c2", "b2.s1.c1", "b2.s1.c2"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s1.c2"),("i4","b1.s1.c1,b1.s1.c2"),("i5","b2"),("i6","b2.s1.c1"),("i7","b2.s1.c2"),("i8","b2.s1.c1,b2.s1.c2")],filter={"option": "exclude", "containers": ["b1.s1.c1,b2.s1"]},expected_indexes=["i1","i3","i5"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s1.c2", "b2.s1.c1", "b2.s1.c2"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s1.c2"),("i4","b1.s1.c1,b1.s1.c2"),("i5","b2"),("i6","b2.s1.c1"),("i7","b2.s1.c2"),("i8","b2.s1.c1,b2.s1.c2")],/filter={"option": "exclude", "containers": ["b1.s1.c1,b1.s1.c2,b2.s1"]},expected_indexes=["i1","i5"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s1.c2", "b2.s1.c1", "b2.s1.c2"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s1.c2"),("i4","b1.s1.c1,b1.s1.c2"),("i5","b2"),("i6","b2.s1.c1"),("i7","b2.s1.c2"),("i8","b2.s1.c1,b2.s1.c2")],filter={"option": "exclude", "containers": ["b1.s1.c1,b2.s1.c1"]},expected_indexes=["i1","i3","i5","i7"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s1.c2", "b2.s1.c1", "b2.s1.c2"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s1.c2"),("i4","b1.s1.c1,b1.s1.c2"),("i5","b2"),("i6","b2.s1.c1"),("i7","b2.s1.c2"),("i8","b2.s1.c1,b2.s1.c2")],filter={"option": "exclude", "containers": ["b1.s1.c1,b1.s1.c2,b2.s1.c1"]},expected_indexes=["i1","i5","i7"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s1.c2", "b2.s1.c1", "b2.s1.c2"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s1.c2"),("i4","b1.s1.c1,b1.s1.c2"),("i5","b2"),("i6","b2.s1.c1"),("i7","b2.s1.c2"),("i8","b2.s1.c1,b2.s1.c2")],filter={"option": "exclude", "containers": ["b1.s1.c1,b1.s1.c2,b2.s1.c1,b2.s1.c2"]},expected_indexes=["i1","i5"]

    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1", "b2.s1.c1", "b2.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1"),("i4","b2"),("i5","b2.s1.c1"),("i6","b2.s2.c1")],expected_indexes=["i1","i2","i3","i4","i5","i6"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1", "b2.s1.c1", "b2.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1"),("i4","b2"),("i5","b2.s1.c1"),("i6","b2.s2.c1")],filter={"option": "include", "containers": ["b1"]},expected_indexes=["i1","i2","i3"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1", "b2.s1.c1", "b2.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1"),("i4","b2"),("i5","b2.s1.c1"),("i6","b2.s2.c1")],filter={"option": "include", "containers": ["b1.s1"]},expected_indexes=["i2"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1", "b2.s1.c1", "b2.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1"),("i4","b2"),("i5","b2.s1.c1"),("i6","b2.s2.c1")],filter={"option": "include", "containers": ["b1.s1.c1"]},expected_indexes=["i2"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1", "b2.s1.c1", "b2.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1"),("i4","b2"),("i5","b2.s1.c1"),("i6","b2.s2.c1")],filter={"option": "include", "containers": ["b1.s1,b1.s2"]},expected_indexes=["i2","i3"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1", "b2.s1.c1", "b2.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1"),("i4","b2"),("i5","b2.s1.c1"),("i6","b2.s2.c1")],filter={"option": "include", "containers": ["b1.s1.c1,b1.s2.c1"]},expected_indexes=["i2","i3"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1", "b2.s1.c1", "b2.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1"),("i4","b2"),("i5","b2.s1.c1"),("i6","b2.s2.c1")],filter={"option": "include", "containers": ["b1,b2"]},expected_indexes=["i1","i2","i3","i4","i5","i6"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1", "b2.s1.c1", "b2.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1"),("i4","b2"),("i5","b2.s1.c1"),("i6","b2.s2.c1")],filter={"option": "include", "containers": ["b1.s1,b2"]},expected_indexes=["i2","i4","i5","i6"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1", "b2.s1.c1", "b2.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1"),("i4","b2"),("i5","b2.s1.c1"),("i6","b2.s2.c1")],filter={"option": "include", "containers": ["b1.s1.c1,b2"]},expected_indexes=["i2","i4","i5","i6"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1", "b2.s1.c1", "b2.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1"),("i4","b2"),("i5","b2.s1.c1"),("i6","b2.s2.c1")],filter={"option": "include", "containers": ["b1.s1,b1.s2,b2"]},expected_indexes=["i2","i3","i4","i5","i6"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1", "b2.s1.c1", "b2.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1"),("i4","b2"),("i5","b2.s1.c1"),("i6","b2.s2.c1")],filter={"option": "include", "containers": ["b1.s1.c1,b1.s2.c1,b2"]},expected_indexes=["i2","i3","i4","i5","i6"],scoring_model=bm25
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1", "b2.s1.c1", "b2.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1"),("i4","b2"),("i5","b2.s1.c1"),("i6","b2.s2.c1")],filter={"option": "include", "containers": ["b1.s1,b2.s1"]},expected_indexes=["i2","i5"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1", "b2.s1.c1", "b2.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1"),("i4","b2"),("i5","b2.s1.c1"),("i6","b2.s2.c1")],filter={"option": "include", "containers": ["b1.s1.c1,b2.s1"]},expected_indexes=["i2","i5"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1", "b2.s1.c1", "b2.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1"),("i4","b2"),("i5","b2.s1.c1"),("i6","b2.s2.c1")],filter={"option": "include", "containers": ["b1.s1,b1.s2,b2.s1"]},expected_indexes=["i2","i3","i5"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1", "b2.s1.c1", "b2.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1"),("i4","b2"),("i5","b2.s1.c1"),("i6","b2.s2.c1")],filter={"option": "include", "containers": ["b1.s1.c1,b1.s2.c1,b2.s1"]},expected_indexes=["i2","i3","i5"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1", "b2.s1.c1", "b2.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1"),("i4","b2"),("i5","b2.s1.c1"),("i6","b2.s2.c1")],filter={"option": "include", "containers": ["b1.s1.c1,b2.s1.c1"]},expected_indexes=["i2","i5"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1", "b2.s1.c1", "b2.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1"),("i4","b2"),("i5","b2.s1.c1"),("i6","b2.s2.c1")],filter={"option": "include", "containers": ["b1.s1,b1.s2,b2.s1.c1"]},expected_indexes=["i2","i3","i5"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1", "b2.s1.c1", "b2.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1"),("i4","b2"),("i5","b2.s1.c1"),("i6","b2.s2.c1")],filter={"option": "include", "containers": ["b1.s1.c1,b1.s2.c1,b2.s1.c1"]},expected_indexes=["i2","i3","i5"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1", "b2.s1.c1", "b2.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1"),("i4","b2"),("i5","b2.s1.c1"),("i6","b2.s2.c1")],filter={"option": "include", "containers": ["b1.s1,b1.s2,b2.s1,b2.s2"]},expected_indexes=["i2","i3","i5","i6"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1", "b2.s1.c1", "b2.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1"),("i4","b2"),("i5","b2.s1.c1"),("i6","b2.s2.c1")],filter={"option": "include", "containers": ["b1.s1.c1,b1.s2.c1,b2.s1,b2.s2"]},expected_indexes=["i2","i3","i5","i6"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1", "b2.s1.c1", "b2.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1"),("i4","b2"),("i5","b2.s1.c1"),("i6","b2.s2.c1")],filter={"option": "include", "containers": ["b1.s1.c1,b1.s2.c1,b2.s1.c1,b2.s2.c1"]},expected_indexes=["i2","i3","i5","i6"],scoring_model=bm25
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1", "b2.s1.c1", "b2.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1"),("i4","b2"),("i5","b2.s1.c1"),("i6","b2.s2.c1")],filter={"option": "exclude", "containers": ["b1"]},expected_indexes=["i4","i5","i6"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1", "b2.s1.c1", "b2.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1"),("i4","b2"),("i5","b2.s1.c1"),("i6","b2.s2.c1")],filter={"option": "exclude", "containers": ["b1.s1"]},expected_indexes=["i1","i3","i4","i5","i6"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1", "b2.s1.c1", "b2.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1"),("i4","b2"),("i5","b2.s1.c1"),("i6","b2.s2.c1")],filter={"option": "exclude", "containers": ["b1.s1.c1"]},expected_indexes=["i1","i3","i4","i5","i6"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1", "b2.s1.c1", "b2.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1"),("i4","b2"),("i5","b2.s1.c1"),("i6","b2.s2.c1")],filter={"option": "exclude", "containers": ["b1.s1,b1.s2"]},expected_indexes=["i1","i4","i5","i6"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1", "b2.s1.c1", "b2.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1"),("i4","b2"),("i5","b2.s1.c1"),("i6","b2.s2.c1")],filter={"option": "exclude", "containers": ["b1.s1.c1,b1.s2.c1"]},expected_indexes=["i1","i4","i5","i6"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1", "b2.s1.c1", "b2.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1"),("i4","b2"),("i5","b2.s1.c1"),("i6","b2.s2.c1")],filter={"option": "exclude", "containers": ["b1,b2"]},expected_indexes=[]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1", "b2.s1.c1", "b2.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1"),("i4","b2"),("i5","b2.s1.c1"),("i6","b2.s2.c1")],filter={"option": "exclude", "containers": ["b1.s1,b2"]},expected_indexes=["i1","i3"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1", "b2.s1.c1", "b2.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1"),("i4","b2"),("i5","b2.s1.c1"),("i6","b2.s2.c1")],filter={"option": "exclude", "containers": ["b1.s1.c1,b2"]},expected_indexes=["i1","i3"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1", "b2.s1.c1", "b2.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1"),("i4","b2"),("i5","b2.s1.c1"),("i6","b2.s2.c1")],filter={"option": "exclude", "containers": ["b1.s1,b1.s2,b2"]},expected_indexes=["i1"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1", "b2.s1.c1", "b2.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1"),("i4","b2"),("i5","b2.s1.c1"),("i6","b2.s2.c1")],filter={"option": "exclude", "containers": ["b1.s1.c1,b1.s2.c1,b2"]},expected_indexes=["i1"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1", "b2.s1.c1", "b2.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1"),("i4","b2"),("i5","b2.s1.c1"),("i6","b2.s2.c1")],filter={"option": "exclude", "containers": ["b1.s1,b2.s1"]},expected_indexes=["i1","i3","i4","i6"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1", "b2.s1.c1", "b2.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1"),("i4","b2"),("i5","b2.s1.c1"),("i6","b2.s2.c1")],filter={"option": "exclude", "containers": ["b1.s1.c1,b2.s1"]},expected_indexes=["i1","i3","i4","i6"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1", "b2.s1.c1", "b2.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1"),("i4","b2"),("i5","b2.s1.c1"),("i6","b2.s2.c1")],filter={"option": "exclude", "containers": ["b1.s1,b1.s2,b2.s1"]},expected_indexes=["i1","i4","i6"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1", "b2.s1.c1", "b2.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1"),("i4","b2"),("i5","b2.s1.c1"),("i6","b2.s2.c1")],filter={"option": "exclude", "containers": ["b1.s1.c1,b1.s2.c1,b2.s1"]},expected_indexes=["i1","i4","i6"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1", "b2.s1.c1", "b2.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1"),("i4","b2"),("i5","b2.s1.c1"),("i6","b2.s2.c1")],filter={"option": "exclude", "containers": ["b1.s1.c1,b2.s1.c1"]},expected_indexes=["i1","i3","i4","i6"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1", "b2.s1.c1", "b2.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1"),("i4","b2"),("i5","b2.s1.c1"),("i6","b2.s2.c1")],filter={"option": "exclude", "containers": ["b1.s1,b1.s2,b2.s1.c1"]},expected_indexes=["i1","i4","i6"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1", "b2.s1.c1", "b2.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1"),("i4","b2"),("i5","b2.s1.c1"),("i6","b2.s2.c1")],filter={"option": "exclude", "containers": ["b1.s1.c1,b1.s2.c1,b2.s1.c1"]},expected_indexes=["i1","i4","i6"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1", "b2.s1.c1", "b2.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1"),("i4","b2"),("i5","b2.s1.c1"),("i6","b2.s2.c1")],filter={"option": "exclude", "containers": ["b1.s1,b1.s2,b2.s1,b2.s2"]},expected_indexes=["i1","i4"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1", "b2.s1.c1", "b2.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1"),("i4","b2"),("i5","b2.s1.c1"),("i6","b2.s2.c1")],filter={"option": "exclude", "containers": ["b1.s1.c1,b1.s2.c1,b2.s1,b2.s2"]},expected_indexes=["i1","i4"]
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1", "b2.s1.c1", "b2.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1"),("i4","b2"),("i5","b2.s1.c1"),("i6","b2.s2.c1")],filter={"option": "exclude", "containers": ["b1.s1.c1,b1.s2.c1,b2.s1.c1,b2.s2.c1"]},expected_indexes=["i1","i4"]


# bucket level
#GET /api/v1/bucket/[BUCKET]/backup

    test_backup_restore,GROUP=P0,no_buckets=True,kv=["b1"],idx=[("i1","b1")],expected_indexes=["i1"],bucket=b1

    test_backup_restore,GROUP=P0,no_buckets=True,kv=["b1.s1.c1"],idx=[("i1","b1"),("i2","b1.s1.c1")],filter={"option": "include", "containers": ["s1"]},expected_indexes=["i2"],bucket=b1,scoring_model=bm25
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1"],idx=[("i1","b1"),("i2","b1.s1.c1")],filter={"option": "include", "containers": ["s1.c1"]},expected_indexes=["i2"],bucket=b1
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1"],idx=[("i1","b1"),("i2","b1.s1.c1")],filter={"option": "exclude", "containers": ["s1"]},expected_indexes=["i1"],bucket=b1
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1"],idx=[("i1","b1"),("i2","b1.s1.c1")],filter={"option": "exclude", "containers": ["s1.c1"]},expected_indexes=["i1"],bucket=b1

    test_backup_restore,GROUP=P0,no_buckets=True,kv=["b1.s1.c1", "b1.s1.c2"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s1.c1,b1.s1.c2")],expected_indexes=["i1","i2","i3"],bucket=b1
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s1.c2"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s1.c1,b1.s1.c2")],filter={"option": "include", "containers": ["s1"]},expected_indexes=["i2","i3"],bucket=b1
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s1.c2"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s1.c1,b1.s1.c2")],filter={"option": "include", "containers": ["s1.c1"]},expected_indexes=["i2"],bucket=b1
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s1.c2"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s1.c1,b1.s1.c2")],filter={"option": "include", "containers": ["s1.c1,s1.c2"]},expected_indexes=["i2","i3"],bucket=b1,scoring_model=bm25
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s1.c2"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s1.c1,b1.s1.c2")],filter={"option": "exclude", "containers": ["s1"]},expected_indexes=["i1"],bucket=b1
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s1.c2"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s1.c1,b1.s1.c2")],filter={"option": "exclude", "containers": ["s1.c1"]},expected_indexes=["i1","i3"],bucket=b1
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s1.c2"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s1.c1,b1.s1.c2")],filter={"option": "exclude", "containers": ["s1.c1,s1.c2"]},expected_indexes=["i1"],bucket=b1

    test_backup_restore,GROUP=P0,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1")],expected_indexes=["i1","i2","i3"],bucket=b1
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1")],filter={"option": "include", "containers": ["s1"]},expected_indexes=["i2"],bucket=b1
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1")],filter={"option": "include", "containers": ["s1.c1"]},expected_indexes=["i2"],bucket=b1
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1")],filter={"option": "include", "containers": ["s2"]},expected_indexes=["i3"],bucket=b1
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1")],filter={"option": "include", "containers": ["s2.c1"]},expected_indexes=["i3"],bucket=b1
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1")],filter={"option": "include", "containers": ["s1,s2"]},expected_indexes=["i2","i3"],bucket=b1
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1")],filter={"option": "include", "containers": ["s1,s2.c1"]},expected_indexes=["i2","i3"],bucket=b1
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1")],filter={"option": "include", "containers": ["s1.c1,s2.c1"]},expected_indexes=["i2","i3"],bucket=b1,scoring_model=bm25
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1")],filter={"option": "exclude", "containers": ["s1"]},expected_indexes=["i1","i3"],bucket=b1
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1")],filter={"option": "exclude", "containers": ["s1.c1"]},expected_indexes=["i1","i3"],bucket=b1
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1")],filter={"option": "exclude", "containers": ["s2"]},expected_indexes=["i1","i2"],bucket=b1
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1")],filter={"option": "exclude", "containers": ["s2.c1"]},expected_indexes=["i1","i2"],bucket=b1
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1")],filter={"option": "exclude", "containers": ["s1,s2"]},expected_indexes=["i1"],bucket=b1
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1")],filter={"option": "exclude", "containers": ["s1,s2.c1"]},expected_indexes=["i1"],bucket=b1
    test_backup_restore,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1"],idx=[("i1","b1"),("i2","b1.s1.c1"),("i3","b1.s2.c1")],filter={"option": "exclude", "containers": ["s1.c1,s2.c1"]},expected_indexes=["i1"],bucket=b1

    ####### cluster level remapping
    #commented tests are cancelled because of https://issues.couchbase.com/browse/MB-43521
    #bucket
    test_remap,GROUP=P0,no_buckets=True,kv=["b1", "b2"],idx=[("i1","b1")],remap=["b1:b2"],remapped_idx=[("i1","b2")]
    test_remap,GROUP=P0,no_buckets=True,kv=["b1", "b2"],idx=[("i1","b1")],remap=["b1:b2"],remapped_idx=[("i1","b2")],scoring_model=bm25

    #scope
    test_remap,GROUP=P0,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1"],idx=[("i1","b1.s1.c1")],remap=["b1.s1:b1.s2"],remapped_idx=[("i1","b1.s2.c1")]
    test_remap,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b2.s1.c1"],idx=[("i1","b1.s1.c1")],remap=["b1.s1:b2.s1"],remapped_idx=[("i1","b2.s1.c1")],scoring_model=bm25

    #collection
    test_remap,GROUP=P0,no_buckets=True,kv=["b1.s1.c1", "b1.s1.c2"],idx=[("i1","b1.s1.c1")],remap=["b1.s1.c1:b1.s1.c2"],remapped_idx=[("i1","b1.s1.c2")]
    test_remap,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1"],idx=[("i1","b1.s1.c1")],remap=["b1.s1.c1:b1.s2.c1"],remapped_idx=[("i1","b1.s2.c1")],scoring_model=bm25
    test_remap,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b2.s1.c1"],idx=[("i1","b1.s1.c1")],remap=["b1.s1.c1:b2.s1.c1"],remapped_idx=[("i1","b2.s1.c1")]

    #bucket, bucket
    test_remap,GROUP=P0,no_buckets=True,kv=["b1", "b2", "b3", "b4"],idx=[("i1","b1"),("i2","b2")],remap=["b1:b3","b2:b4"],remapped_idx=[("i1","b3"),("i2","b4")]
    test_remap,GROUP=P0,no_buckets=True,kv=["b1", "b2", "b3", "b4"],idx=[("i1","b1"),("i2","b2")],remap=["b1:b3","b2:b4"],remapped_idx=[("i1","b3"),("i2","b4")],scoring_model=bm25

    #bucket scope
    test_remap,GROUP=P0,no_buckets=True,kv=["b1", "b3", "b2.s1.c1", "b2.s2.c1"],idx=[("i1","b1"),("i2","b2.s1.c1")],remap=["b1:b3", "b2.s1:b2.s2"],remapped_idx=[("i1","b3"),("i2","b2.s2.c1")],scoring_model=bm25
    test_remap,GROUP=P1,no_buckets=True,kv=["b1", "b3", "b2.s1.c1", "b4.s1.c1"],idx=[("i1","b1"),("i2","b2.s1.c1")],remap=["b1:b3", "b2.s1:b4.s1"],remapped_idx=[("i1","b3"),("i2","b4.s1.c1")]

    #bucket collection
    test_remap,GROUP=P0,no_buckets=True,kv=["b1.s1.c1", "b1.s1.c2", "b2", "b3"],idx=[("i1","b1.s1.c1"),("i2","b2")],remap=["b1.s1.c1:b1.s1.c2","b2:b3"],remapped_idx=[("i1","b1.s1.c2"),("i2","b3")]
    test_remap,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1", "b2", "b3"],idx=[("i1","b1.s1.c1"),("i2","b2")],remap=["b1.s1.c1:b1.s2.c1","b2:b3"],remapped_idx=[("i1","b1.s2.c1"),("i2","b3")],scoring_model=bm25
    test_remap,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b2.s1.c1", "b3", "b4"],idx=[("i1","b1.s1.c1"),("i2","b3")],remap=["b1.s1.c1:b2.s1.c1","b3:b4"],remapped_idx=[("i1","b2.s1.c1"),("i2","b4")]

    #scope scope
    test_remap,GROUP=P0,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1","b3.s1.c1", "b3.s2.c1"],idx=[("i1","b1.s1.c1"),("i3","b3.s1.c1")],remap=["b1.s1:b1.s2","b3.s1:b3.s2"],remapped_idx=[("i1","b1.s2.c1"),("i3","b3.s2.c1")]
    test_remap,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b2.s1.c1","b3.s1.c1", "b3.s2.c1"],idx=[("i1","b1.s1.c1"),("i3","b3.s1.c1")],remap=["b1.s1:b2.s1","b3.s1:b3.s2"],remapped_idx=[("i1","b2.s1.c1"),("i3","b3.s2.c1")],scoring_model=bm25
    test_remap,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1","b3.s1.c1", "b4.s1.c1"],idx=[("i1","b1.s1.c1"),("i3","b3.s1.c1")],remap=["b1.s1:b1.s2","b3.s1:b4.s1"],remapped_idx=[("i1","b1.s2.c1"),("i3","b4.s1.c1")]
    test_remap,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b2.s1.c1","b3.s1.c1", "b4.s1.c1"],idx=[("i1","b1.s1.c1"),("i3","b3.s1.c1")],remap=["b1.s1:b2.s1","b3.s1:b4.s1"],remapped_idx=[("i1","b2.s1.c1"),("i3","b4.s1.c1")]

    #scope collection
    test_remap,GROUP=P0,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1","b3.s1.c1", "b3.s1.c2"],idx=[("i1","b1.s1.c1"),("i3","b3.s1.c1")],remap=["b1.s1:b1.s2","b3.s1.c1:b3.s1.c2"],remapped_idx=[("i1","b1.s2.c1"),("i3","b3.s1.c2")]
    #test_remap,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b2.s1.c1","b3.s1.c1", "b3.s1.c2"],idx=[("i1","b1.s1.c1"),("i3","b3.s1.c1")],remap=["b1.s1:b2.s1"],remapped_idx=[("i1","b2.s1.c1"),("i3","b3.s1.c2")]
    test_remap,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1","b3.s1.c1", "b3.s2.c1"],idx=[("i1","b1.s1.c1"),("i3","b3.s1.c1")],remap=["b1.s1:b1.s2","b3.s1.c1:b3.s2.c1"],remapped_idx=[("i1","b1.s2.c1"),("i3","b3.s2.c1")],scoring_model=bm25
    test_remap,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b2.s1.c1","b3.s1.c1", "b3.s2.c1"],idx=[("i1","b1.s1.c1"),("i3","b3.s1.c1")],remap=["b1.s1:b2.s1","b3.s1.c1:b3.s2.c1"],remapped_idx=[("i1","b2.s1.c1"),("i3","b3.s2.c1")]
    test_remap,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1","b3.s1.c1", "b4.s1.c1"],idx=[("i1","b1.s1.c1"),("i3","b3.s1.c1")],remap=["b1.s1:b1.s2","b3.s1.c1:b4.s1.c1"],remapped_idx=[("i1","b1.s2.c1"),("i3","b4.s1.c1")]
    test_remap,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b2.s1.c1","b3.s1.c1", "b4.s1.c1"],idx=[("i1","b1.s1.c1"),("i3","b3.s1.c1")],remap=["b1.s1:b2.s1","b3.s1.c1:b4.s1.c1"],remapped_idx=[("i1","b2.s1.c1"),("i3","b4.s1.c1")]

    #collection collection
    test_remap,GROUP=P0,no_buckets=True,kv=["b1.s1.c1", "b1.s1.c2","b3.s1.c1", "b3.s1.c2"],idx=[("i1","b1.s1.c1"),("i3","b3.s1.c1")],remap=["b1.s1.c1:b1.s1.c2","b3.s1.c1:b3.s1.c2"],remapped_idx=[("i1","b1.s1.c2"),("i3","b3.s1.c2")]
    test_remap,GROUP=P0,no_buckets=True,kv=["b1.s1.c1", "b1.s1.c2","b3.s1.c1", "b3.s1.c2"],idx=[("i1","b1.s1.c1"),("i3","b3.s1.c1")],remap=["b1.s1.c1:b1.s1.c2","b3.s1.c1:b3.s1.c2"],remapped_idx=[("i1","b1.s1.c2"),("i3","b3.s1.c2")],scoring_model=bm25
    test_remap,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1","b3.s1.c1", "b3.s1.c2"],idx=[("i1","b1.s1.c1"),("i3","b3.s1.c1")],remap=["b1.s1.c1:b1.s2.c1","b3.s1.c1:b3.s1.c2"],remapped_idx=[("i1","b1.s2.c1"),("i3","b3.s1.c2")]
    #test_remap,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b2.s1.c1","b3.s1.c1", "b3.s1.c2"],idx=[("i1","b1.s1.c1"),("i3","b3.s1.c1")],remap=["b1.s1.c1:b2.s1.c1","b3.s1.c1:b3.s1.c2"],remapped_idx=[("i1","b2.s1.c1"),("i3","b3.s1.c2")]
    test_remap,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s1.c2","b3.s1.c1", "b3.s2.c1"],idx=[("i1","b1.s1.c1"),("i3","b3.s1.c1")],remap=["b1.s1.c1:b1.s1.c2","b3.s1.c1:b3.s2.c1"],remapped_idx=[("i1","b1.s1.c2"),("i3","b3.s2.c1")],scoring_model=bm25
    test_remap,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1","b3.s1.c1", "b3.s2.c1"],idx=[("i1","b1.s1.c1"),("i3","b3.s1.c1")],remap=["b1.s1.c1:b1.s2.c1","b3.s1.c1:b3.s2.c1"],remapped_idx=[("i1","b1.s2.c1"),("i3","b3.s2.c1")]
    #test_remap,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b2.s1.c1","b3.s1.c1", "b3.s2.c1"],idx=[("i1","b1.s1.c1"),("i3","b3.s1.c1")],remap=["b1.s1.c1:b2.s1.c1","b3.s1.c1:b3.s2.c1"],remapped_idx=[("i1","b2.s1.c1"),("i3","b3.s2.c1")]
    #test_remap,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s1.c2","b3.s1.c1", "b4.s1.c1"],idx=[("i1","b1.s1.c1"),("i3","b3.s1.c1")],remap=["b1.s1.c1:b1.s1.c2","b3.s1.c1:b4.s1.c1"],remapped_idx=[("i1","b1.s1.c2"),("i3","b4.s1.c1")]
    #test_remap,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1","b3.s1.c1", "b4.s1.c1"],idx=[("i1","b1.s1.c1"),("i3","b3.s1.c1")],remap=["b1.s1.c1:b1.s2.c1","b3.s1.c1:b4.s1.c1"],remapped_idx=[("i1","b1.s2.c1"),("i3","b4.s1.c1")]
    #test_remap,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b2.s1.c1","b3.s1.c1", "b4.s1.c1"],idx=[("i1","b1.s1.c1"),("i3","b3.s1.c1")],remap=["b1.s1.c1:b2.s1.c1","b3.s1.c1:b4.s1.c1"],remapped_idx=[("i1","b2.s1.c1"),("i3","b4.s1.c1")]

    ########## bucket level remapping

    #scope
    test_remap,GROUP=P0,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1"],idx=[("i1","b1.s1.c1")],remap=["b1.s1:b1.s2"],remapped_idx=[("i1","b1.s2.c1")],bucket_name=b1

    #collection
    test_remap,GROUP=P0,no_buckets=True,kv=["b1.s1.c1", "b1.s1.c2"],idx=[("i1","b1.s1.c1")],remap=["b1.s1.c1:b1.s1.c2"],remapped_idx=[("i1","b1.s1.c2")],bucket=b1
    test_remap,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1"],idx=[("i1","b1.s1.c1")],remap=["b1.s1.c1:b1.s2.c1"],remapped_idx=[("i1","b1.s2.c1")],bucket=b1,scoring_model=bm25

    #scope scope
    test_remap,GROUP=P0,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1","b3.s1.c1", "b3.s2.c1"],idx=[("i1","b1.s1.c1"),("i3","b3.s1.c1")],remap=["b1.s1:b1.s2","b3.s1:b3.s2"],remapped_idx=[("i1","b1.s2.c1"),("i3","b3.s2.c1")],bucket=b1

    scope collection
    test_remap,GROUP=P0,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1","b3.s1.c1", "b3.s1.c2"],idx=[("i1","b1.s1.c1"),("i3","b3.s1.c1")],remap=["b1.s1:b1.s2","b3.s1.c1:b3.s1.c2"],remapped_idx=[("i1","b1.s2.c1"),("i3","b3.s1.c2")],bucket=b1
    test_remap,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1","b3.s1.c1", "b3.s2.c1"],idx=[("i1","b1.s1.c1"),("i3","b3.s1.c1")],remap=["b1.s1:b1.s2","b3.s1.c1:b3.s2.c1"],remapped_idx=[("i1","b1.s2.c1"),("i3","b3.s2.c1")],bucket=b1

    #collection collection
    test_remap,GROUP=P0,no_buckets=True,kv=["b1.s1.c1", "b1.s1.c2","b3.s1.c1", "b3.s1.c2"],idx=[("i1","b1.s1.c1"),("i3","b3.s1.c1")],remap=["b1.s1.c1:b1.s1.c2","b3.s1.c1:b3.s1.c2"],remapped_idx=[("i1","b1.s1.c2"),("i3","b3.s1.c2")],bucket=b1,scoring_model=bm25
    test_remap,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1","b3.s1.c1", "b3.s1.c2"],idx=[("i1","b1.s1.c1"),("i3","b3.s1.c1")],remap=["b1.s1.c1:b1.s2.c1","b3.s1.c1:b3.s1.c2"],remapped_idx=[("i1","b1.s2.c1"),("i3","b3.s1.c2")],bucket=b1
    test_remap,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s1.c2","b3.s1.c1", "b3.s2.c1"],idx=[("i1","b1.s1.c1"),("i3","b3.s1.c1")],remap=["b1.s1.c1:b1.s1.c2","b3.s1.c1:b3.s2.c1"],remapped_idx=[("i1","b1.s1.c2"),("i3","b3.s2.c1")],bucket=b1
    test_remap,GROUP=P1,no_buckets=True,kv=["b1.s1.c1", "b1.s2.c1","b3.s1.c1", "b3.s2.c1"],idx=[("i1","b1.s1.c1"),("i3","b3.s1.c1")],remap=["b1.s1.c1:b1.s2.c1","b3.s1.c1:b3.s2.c1"],remapped_idx=[("i1","b1.s2.c1"),("i3","b3.s2.c1")],bucket=b1


    # negative tests
    test_filter_missed_kv_negative,GROUP=P1,no_buckets=True,kv=["b1.s1.c1"]
    test_empty_filter_negative,GROUP=P1,no_buckets=True,kv=["b1.s1.c1"]
    test_restore_send_invalid_json_negative,GROUP=P1,no_buckets=True,kv=["b1.s1.c1"]
    test_restore_send_empty_json_negative,GROUP=P1,no_buckets=True,kv=["b1.s1.c1"]
    test_remap_missed_kv_negative,GROUP=P1,no_buckets=True,kv=["b1.s1.c1"],idx=[("i1","b1.s1.c1")]

    #https://issues.couchbase.com/browse/MB-43648
    #test_incorrect_remap_negative,GROUP=P1,no_buckets=True,kv=["b1.s1.c1","b1.s2.c2","b1.s1.c2"],idx=[("i1","b1.s1.c1")]